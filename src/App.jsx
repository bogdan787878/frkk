import React, { useState, useEffect, useRef } from 'react';
import HomePage from './HomePage';
import TasksPage from './TasksPage';
import ClientCardPage from './ClientCardPage';
import ClientSearchPage from './ClientSearchPage';

/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * Ğ’Ğ˜Ğ¢Ğ Ğ˜ĞĞ Ğ ĞšĞ / Ğ“Ğ›ĞĞ’ĞĞĞ¯ / Ğ—ĞĞ”ĞĞ§Ğ˜ â€” Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¸ĞºĞ¾Ğ½ĞºĞ°Ğ¼ (0 = Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ, 2 = Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸, 5 = Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğ°)
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

// Ğ˜ĞºĞ¾Ğ½ĞºĞ¸ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ»ĞµĞ²Ğ¾Ğ³Ğ¾ Ğ¼ĞµĞ½Ñ (Ğ¸Ğ· AdmiralDS/icons)
// icon-0 Ğ´Ğ¾ icon-6: Ğ²ĞµÑ€Ñ…Ğ½Ğ¸Ğµ 7 Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº
// icon-7: ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ°Ñ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°, Ğ±ĞµĞ· Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ°)
// icon-8, icon-9: Ğ½Ğ¸Ğ¶Ğ½Ğ¸Ğµ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ (Help, Exit)
const DEFAULT_MENU_ICONS = {
  // Ğ’ĞµÑ€Ñ…Ğ½Ğ¸Ğµ 7 Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº
  'icon-0': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M17.9998 8.99996L20.9998 12C21.2713 12.2348 21.3011 12.6452 21.0663 12.9168C20.8316 13.1883 20.4211 13.2181 20.1495 12.9834L18.9998 11.8336L18.9998 19.7C18.9998 20.4179 18.4178 21 17.6998 21L14.4992 21C13.7811 21 13.1991 20.4179 13.1992 19.6998L13.1998 14.3L10.7998 14.3L10.7998 19.7C10.7998 20.4179 10.2178 21 9.49979 21L6.29979 21C5.58182 21 4.99979 20.4179 4.99979 19.7L4.99979 11.8336L3.85004 12.9834C3.57849 13.2181 3.16801 13.1883 2.93322 12.9168C2.69843 12.6452 2.72823 12.2348 2.99978 12L5.99979 8.99996L11.0805 3.91921C11.5882 3.41153 12.4113 3.41153 12.919 3.91921L17.9998 8.99996ZM17.6998 19.7L14.4998 19.7L14.4998 14.3C14.4998 13.582 13.9178 13 13.1998 13L10.7998 13C10.0818 13 9.49979 13.582 9.49979 14.3L9.49979 19.7L6.29979 19.7L6.29979 10.5385L11.9998 4.83845L17.6998 10.5385L17.6998 19.7Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-1': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M8.13998 1.94995C8.49896 1.94995 8.78998 2.24097 8.78998 2.59995L8.78998 3.98996L11.35 3.98996L11.35 2.59995C11.35 2.24097 11.641 1.94995 12 1.94995C12.359 1.94995 12.65 2.24097 12.65 2.59995L12.65 3.98996L15.2 3.98996L15.2 2.59995C15.2 2.24097 15.491 1.94995 15.85 1.94995C16.209 1.94995 16.5 2.24097 16.5 2.59995L16.5 3.98996L17 3.98996C18.65 3.98996 20 5.32996 20 6.98996L20 17.12C20 18.78 18.66 20.12 17 20.12L7 20.12C5.34 20.12 4 18.78 4 17.12L4 6.98996C4 5.32996 5.34 3.98996 7 3.98996L7.48998 3.98996L7.48998 2.59995C7.48998 2.24097 7.78099 1.94995 8.13998 1.94995ZM7.48998 6.85995L7.48998 5.28996L7 5.28996C6.06 5.28996 5.3 6.04996 5.3 6.98996L5.3 9.34997L18.7 9.34997L18.7 6.98996C18.7 6.04996 17.94 5.28996 17 5.28996L16.5 5.28996L16.5 6.85995C16.5 7.21894 16.209 7.50995 15.85 7.50995C15.491 7.50995 15.2 7.21894 15.2 6.85995L15.2 5.28996L12.65 5.28996L12.65 6.85995C12.65 7.21894 12.359 7.50995 12 7.50995C11.641 7.50995 11.35 7.21894 11.35 6.85995L11.35 5.28996L8.78998 5.28996L8.78998 6.85995C8.78998 7.21894 8.49896 7.50995 8.13998 7.50995C7.78099 7.50995 7.48998 7.21894 7.48998 6.85995ZM18.7 10.65L5.3 10.65L5.3 17.12C5.3 18.06 6.06 18.82 7 18.82L17 18.82C17.94 18.82 18.7 18.06 18.7 17.12L18.7 10.65ZM8.88002 12.65C8.13104 12.65 7.53002 13.251 7.53002 14L7.53002 15.32C7.53002 16.0689 8.13104 16.67 8.88002 16.67L11.2 16.67C11.949 16.67 12.55 16.0689 12.55 15.32L12.55 14C12.55 13.251 11.949 12.65 11.2 12.65L8.88002 12.65ZM8.83002 14C8.83002 13.9812 8.83633 13.9704 8.84339 13.9633C8.85046 13.9563 8.86122 13.95 8.88002 13.95L11.2 13.95C11.2188 13.95 11.2296 13.9563 11.2367 13.9633C11.2437 13.9704 11.25 13.9812 11.25 14L11.25 15.32C11.25 15.3388 11.2437 15.3495 11.2367 15.3566C11.2296 15.3637 11.2188 15.37 11.2 15.37L8.88002 15.37C8.86122 15.37 8.85046 15.3637 8.84339 15.3566C8.83633 15.3495 8.83002 15.3388 8.83002 15.32L8.83002 14Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-2': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M21.0187 8.17489C21.0187 8.49989 20.8092 8.82489 20.39 8.82489L19 8.82489L19 15.1999L20.39 15.1999C20.749 15.1999 21.04 15.491 21.04 15.8499C21.04 16.2089 20.749 16.4999 20.39 16.4999L19 16.4999L19 17.9999C19 19.6499 17.66 20.9999 16 20.9999L7 20.9999C5.34 20.9999 4 19.6599 4 17.9999L4 6.03491C4 4.37491 5.34 3.03491 7 3.03491L16 3.03491C17.66 3.03491 19 4.37491 19 6.03491L19 7.52489L20.39 7.52489C20.8092 7.52489 21.0187 7.84989 21.0187 8.17489ZM17.7 6.03491C17.7 5.09491 16.94 4.33491 16 4.33491L7 4.33491C6.06 4.33491 5.3 5.09491 5.3 6.03491L5.3 17.9999C5.3 18.9399 6.06 19.6999 7 19.6999L16 19.6999C16.94 19.6999 17.7 18.9399 17.7 17.9999L17.7 6.03491ZM9.5 8.22675C9.5 8.77903 9.05228 9.22675 8.5 9.22675C7.94772 9.22675 7.5 8.77903 7.5 8.22675C7.5 7.67446 7.94772 7.22675 8.5 7.22675C9.05228 7.22675 9.5 7.67446 9.5 8.22675ZM15.37 8.22682C15.37 8.58581 15.079 8.87682 14.72 8.87682L11.5 8.87682C11.141 8.87682 10.85 8.58581 10.85 8.22682C10.85 7.86784 11.141 7.57682 11.5 7.57682L14.72 7.57682C15.079 7.57682 15.37 7.86784 15.37 8.22682ZM9.52585 11.9999C9.52585 12.5522 9.07814 12.9999 8.52585 12.9999C7.97357 12.9999 7.52585 12.5522 7.52585 11.9999C7.52585 11.4477 7.97357 10.9999 8.52585 10.9999C9.07814 10.9999 9.52585 11.4477 9.52585 11.9999ZM15.3809 11.9999C15.3809 12.3589 15.0898 12.6499 14.7309 12.6499L11.5109 12.6499C11.1519 12.6499 10.8609 12.3589 10.8609 11.9999C10.8609 11.641 11.1519 11.3499 11.5109 11.3499L14.7309 11.3499C15.0898 11.3499 15.3809 11.641 15.3809 11.9999ZM8.52585 16.8025C7.97357 16.8025 7.52585 16.3547 7.52585 15.8025C7.52585 15.2502 7.97357 14.8025 8.52585 14.8025C9.07814 14.8025 9.52585 15.2502 9.52585 15.8025C9.52585 16.3547 9.07814 16.8025 8.52585 16.8025ZM15.37 15.8293C15.37 16.1883 15.079 16.4793 14.72 16.4793L11.5 16.4793C11.141 16.4793 10.85 16.1883 10.85 15.8293C10.85 15.4703 11.141 15.1793 11.5 15.1793L14.72 15.1793C15.079 15.1793 15.37 15.4703 15.37 15.8293Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-3': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M13.296 3.09264C12.5854 2.99015 12 3.58205 12 4.30002L12 10.7C12 11.418 12.582 12 13.3 12L19.7 12C20.418 12 21.0099 11.4146 20.9074 10.704C20.3401 6.77071 17.2293 3.65989 13.296 3.09264ZM19.9465 14C20.3719 14 20.6881 14.396 20.5558 14.8004C19.3784 18.3999 15.9928 21 12 21C7.02944 21 3 16.9706 3 12C3 8.00716 5.60014 4.62162 9.19958 3.44422C9.60399 3.31194 10 3.62807 10 4.05356C10 4.35365 9.79722 4.61355 9.51318 4.71042C6.48089 5.7446 4.3 8.61761 4.3 12C4.3 16.2526 7.74741 19.7 12 19.7C15.3824 19.7 18.2554 17.5191 19.2896 14.4868C19.3865 14.2028 19.6464 14 19.9465 14ZM13.3 10.7L13.3 4.40909C16.5099 4.95432 19.0457 7.49011 19.5909 10.7L13.3 10.7Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-4': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M2.71715 10.2408C1.78213 9.76145 1.77266 8.42837 2.70078 7.93574L10.5933 3.74656C11.4728 3.27971 12.5267 3.27971 13.4063 3.74656L21.2988 7.93574C21.6788 8.13747 21.9017 8.48015 21.9681 8.84742C21.9887 8.91072 21.9998 8.97828 21.9998 9.04844L22.0279 15.3469C22.0279 15.7059 21.7369 15.9969 21.3779 15.9969C21.0189 15.9969 20.7279 15.7059 20.7279 15.3469L20.7064 10.5361L18.6298 11.6008L18.6298 15.8656C18.6298 16.7696 18.2291 17.627 17.5358 18.207C14.3202 20.8971 9.6393 20.8971 6.42369 18.207C5.73037 17.627 5.32975 16.7696 5.32975 15.8656L5.32975 11.5803L2.71715 10.2408ZM3.31026 9.08402L11.2028 4.89483C11.7012 4.63029 12.2984 4.63029 12.7968 4.89483L20.6893 9.08402L12.7754 13.1415C12.2884 13.3911 11.7111 13.3911 11.2242 13.1415L3.31026 9.08402ZM6.62975 12.2468L6.62975 15.8656C6.62975 16.3846 6.85976 16.8769 7.25783 17.2099C9.99068 19.4962 13.9688 19.4962 16.7017 17.2099C17.0997 16.8769 17.3298 16.3846 17.3298 15.8656L17.3298 12.2674L13.3685 14.2983C12.5092 14.7388 11.4904 14.7388 10.6311 14.2983L6.62975 12.2468Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-5': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M4.87796 4.86713C5.06076 4.34625 5.55259 3.99762 6.10462 3.99762L17.8954 3.99762C18.4474 3.99762 18.9392 4.34624 19.122 4.86711L20.7598 9.53376L20.7615 9.88672C20.4863 10.8799 19.7959 11.5237 19 11.8152L19 19.7C19 20.418 18.418 21 17.7 21L14.489 21C13.7711 21 13.189 20.418 13.189 19.7L13.189 15.2588L10.811 15.2588L10.811 19.7C10.811 20.4158 10.2268 20.997 9.51099 21L6.3 21C5.58203 21 5 20.418 5 19.7L5 11.8206C4.20289 11.5279 3.5125 10.882 3.23828 9.88565L3.24023 9.53376L4.87796 4.86713ZM6.3 11.9892L6.3 19.7L9.51099 19.7L9.51099 15.2588C9.51099 14.5408 10.093 13.9588 10.811 13.9588L13.189 13.9588C13.907 13.9588 14.489 14.5408 14.489 15.2588L14.489 19.7L17.7 19.7L17.7 11.9823C17.0508 11.9195 16.415 11.6393 15.9441 11.1398C15.4276 11.7377 14.6696 12.0382 13.9331 12.039C13.273 12.0398 12.5988 11.7994 12.1018 11.3183L11.902 11.3183C11.4058 11.7968 10.734 12.036 10.0764 12.0354C9.34206 12.0346 8.58663 11.7353 8.07216 11.1394C7.59698 11.6441 6.95498 11.9269 6.3 11.9892ZM13.9316 10.739C13.3168 10.7397 12.7591 10.3775 12.65 9.64328L12.65 5.29762L14.5493 5.29762L15.2368 9.73138C15.0736 10.403 14.5201 10.7383 13.9316 10.739ZM16.5264 9.56377L16.5357 9.56344C16.7152 10.3219 17.3254 10.6978 17.9863 10.6959C18.6036 10.6941 19.2022 10.3605 19.4554 9.70141L17.8376 5.29762L15.8648 5.29762L16.5264 9.56377ZM6.16233 5.29762L8.12091 5.29762L7.46218 9.63993C7.25583 10.3513 6.6592 10.704 6.0181 10.7024C5.3979 10.7008 4.79745 10.3659 4.54442 9.70213L6.16233 5.29762ZM8.77038 9.68394L9.43579 5.29762L11.35 5.29762L11.35 9.68452C11.2254 10.3885 10.6782 10.736 10.0777 10.7354C9.47796 10.7348 8.91595 10.3852 8.77038 9.68394Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-6': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M12.9876 10.9999C12.5281 10.9999 12.2391 10.5046 12.4653 10.1046L15.9368 3.96508C16.1665 3.55884 16.7517 3.55884 16.9814 3.96508L20.4528 10.1046C20.679 10.5046 20.39 10.9999 19.9305 10.9999L12.9876 10.9999ZM3.69991 4.29989C3.69991 3.96852 3.96854 3.69989 4.29991 3.69989L10.3999 3.69989C10.7313 3.69989 10.9999 3.96852 10.9999 4.29989L10.9999 10.3999C10.9999 10.7313 10.7313 10.9999 10.3999 10.9999L4.29991 10.9999C3.96854 10.9999 3.69991 10.7313 3.69991 10.3999L3.69991 4.29989ZM4.99991 9.6999L4.99991 4.99989L9.69991 4.99989L9.69991 9.6999L4.99991 9.6999ZM14.1875 9.69994L16.4591 5.6826L18.7306 9.69994L14.1875 9.69994ZM7.90982 12.6718C7.6755 12.4375 7.2956 12.4375 7.06129 12.6718L3.64204 16.091C3.40773 16.3253 3.40773 16.7052 3.64204 16.9395L7.06129 20.3588C7.2956 20.5931 7.6755 20.5931 7.90982 20.3588L11.3291 16.9395C11.5634 16.7052 11.5634 16.3253 11.3291 16.091L7.90982 12.6718ZM16.459 20.3C18.5803 20.3 20.2999 18.5804 20.2999 16.4591C20.2999 14.3379 18.5803 12.6183 16.459 12.6183C14.3378 12.6183 12.6182 14.3379 12.6182 16.4591C12.6182 18.5804 14.3378 20.3 16.459 20.3ZM18.9999 16.4591C18.9999 15.0559 17.8623 13.9183 16.459 13.9183C15.0558 13.9183 13.9182 15.0559 13.9182 16.4591C13.9182 17.8624 15.0558 19 16.459 19C17.8623 19 18.9999 17.8624 18.9999 16.4591ZM7.48555 14.086L5.05626 16.5153L7.48555 18.9446L9.91485 16.5153L7.48555 14.086Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  // icon-7: ĞĞ•Ğ¢ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ° - ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ°Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ° Ğ´Ğ»Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸
  // ĞĞ¸Ğ¶Ğ½Ğ¸Ğµ 2 Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ñ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ°Ğ¼Ğ¸ (Help, Exit)
  'icon-8': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12ZM12 4.3C7.74741 4.3 4.3 7.74741 4.3 12C4.3 16.2526 7.74741 19.7 12 19.7C16.2526 19.7 19.7 16.2526 19.7 12C19.7 7.74741 16.2526 4.3 12 4.3ZM11.9745 14.2824C11.6145 14.2824 11.3245 13.9924 11.3245 13.6324C11.3245 13.1624 11.3945 12.7924 11.5745 12.3624C11.8045 11.7924 12.2045 11.3724 12.5645 11.0024L12.5849 10.981C12.9764 10.5701 13.3159 10.2137 13.3945 9.71239C13.4545 9.29239 13.2745 8.86239 12.9145 8.58239C12.5345 8.28239 12.0545 8.22239 11.5845 8.40239C10.7445 8.73239 10.5845 9.39239 10.6145 9.88239C10.6345 10.2424 10.3545 10.5424 9.9945 10.5624C9.6445 10.5724 9.3245 10.3024 9.3145 9.94239C9.25451 8.68239 9.92451 7.66239 11.1045 7.19239C12.0045 6.84239 12.9845 6.97239 13.7245 7.56239C14.4445 8.13239 14.8045 9.03239 14.6745 9.90239C14.5349 10.8195 13.988 11.3888 13.4991 11.8976L13.4945 11.9024C13.1945 12.2124 12.9145 12.5124 12.7745 12.8424C12.6645 13.1224 12.6245 13.3224 12.6245 13.6224C12.6245 13.9924 12.3345 14.2824 11.9745 14.2824ZM12.85 16.35C12.85 16.8194 12.4694 17.2 12 17.2C11.5306 17.2 11.15 16.8194 11.15 16.35C11.15 15.8806 11.5306 15.5 12 15.5C12.4694 15.5 12.85 15.8806 12.85 16.35Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
  'icon-9': `<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="M8 4.3L15 4.3C15.9389 4.3 16.7 5.06112 16.7 6L16.7 6.35C16.7 6.70899 16.991 7 17.35 7C17.709 7 18 6.70899 18 6.35L18 6C18 4.34315 16.6569 3 15 3L8 3C6.34315 3 5 4.34315 5 6L5 18C5 19.6569 6.34315 21 8 21L15 21C16.6569 21 18 19.6569 18 18L18 17.65C18 17.291 17.709 17 17.35 17C16.991 17 16.7 17.291 16.7 17.65L16.7 18C16.7 18.9389 15.9389 19.7 15 19.7L8 19.7C7.80233 19.7 7.61255 19.6663 7.43608 19.6042L9.66747 18.3292C10.275 17.982 10.65 17.3359 10.65 16.6361L10.65 7.25442C10.65 6.55465 10.275 5.90853 9.66747 5.56135L7.5605 4.35736C7.70069 4.31994 7.84802 4.3 8 4.3ZM9.02249 17.2004L6.43982 18.6763C6.34987 18.469 6.3 18.2403 6.3 18L6.3 6C6.3 5.72577 6.36493 5.46671 6.48025 5.23735C7.13425 5.61107 9.35 6.32801 9.35 7.25442L9.35 16.6361C9.35 16.8693 9.22501 17.0847 9.02249 17.2004ZM17.48 15.21C17.3 15.21 17.13 15.14 17 15C16.76 14.73 16.78 14.32 17.04 14.08L18.5976 12.5945L13.65 12.5945C13.291 12.5945 13 12.3035 13 11.9445C13 11.5855 13.291 11.2945 13.65 11.2945L18.5906 11.2945L17.04 9.92C16.77 9.68 16.76 9.27 17 9C17.24 8.74 17.65 8.72 17.92 8.96L20.63 11.4245C20.94 11.7045 20.94 12.1845 20.63 12.4645L17.92 15.04C17.79 15.16 17.64 15.21 17.48 15.21Z" fill="currentColor" fill-rule="evenodd" /></svg>`,
};

// Ğ”ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğµ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ´Ğ»Ñ Ğ²Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½ĞµĞ³Ğ¾ Ğ¼ĞµĞ½Ñ (Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹, ĞĞºÑ†Ğ¸Ğ¸)
const DEFAULT_NAV_MENU_ICONS = {
  // Star Outline Ğ´Ğ»Ñ "Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹" - Ñ†Ğ²ĞµÑ‚ #717681
  'favorites': `<svg viewBox="0 0 24 24" width="24" height="24" fill="none"><path d="M11.9999 4.96998L13.9199 8.86998L14.2199 9.47998L14.8999 9.57998L19.1999 10.21L16.0899 13.25L15.5999 13.73L15.7199 14.4L16.4599 18.69L12.6099 16.67L11.9999 16.34L11.3999 16.66L7.54992 18.68L8.28992 14.39L8.40992 13.72L7.91992 13.24L4.80992 10.2L9.10992 9.56998L9.78992 9.46998L10.0899 8.85998L11.9999 4.96998ZM11.9999 2.91998C11.7499 2.91998 11.4999 3.04998 11.3699 3.30998L8.90992 8.29998L3.39992 9.09998C2.82992 9.17998 2.59992 9.88998 3.00992 10.29L6.99992 14.17L6.05992 19.65C5.97992 20.1 6.33992 20.47 6.74992 20.47C6.85992 20.47 6.96992 20.44 7.07992 20.39L11.9999 17.81L16.9199 20.4C17.0299 20.46 17.1399 20.48 17.2499 20.48C17.6599 20.48 18.0199 20.11 17.9399 19.66L16.9999 14.17L20.9799 10.29C21.3999 9.88998 21.1699 9.17998 20.5899 9.09998L15.0799 8.29998L12.6199 3.30998C12.4999 3.04998 12.2499 2.91998 11.9999 2.91998Z" fill="#717681" fill-rule="nonzero" /></svg>`,
  // Bonus Ruble Outline Ğ´Ğ»Ñ "ĞĞºÑ†Ğ¸Ğ¸" - Ñ†Ğ²ĞµÑ‚ #717681
  'promo': `<svg viewBox="0 0 24 24" width="24" height="24" fill="none"><path d="M17.1014 6.34543C17.3849 5.83739 17.4959 5.2263 17.3629 4.60066L17.3449 4.51632C17.1683 3.68603 16.5603 3.01405 15.7517 2.75555C14.2973 2.29057 12.7931 2.88308 12 4.05244C11.2069 2.88308 9.70266 2.29057 8.24827 2.75555C7.43971 3.01405 6.83169 3.68603 6.65508 4.51632L6.63714 4.60066C6.50406 5.2263 6.61509 5.83738 6.89859 6.34543C5.28868 6.3989 4 7.72083 4 9.34375L4 17C4 18.6569 5.34315 20 7 20L17 20C18.6569 20 20 18.6569 20 17L20 9.34375C20 7.72083 18.7113 6.39891 17.1014 6.34543ZM9.09589 6.33744L11.3439 6.33744L11.3441 6.33612L11.2497 5.63958C11.0818 4.40018 9.83545 3.61294 8.64414 3.99381C8.28 4.11023 8.00617 4.41286 7.92663 4.7868L7.90869 4.87114C7.74807 5.62624 8.3239 6.33744 9.09589 6.33744ZM14.9041 6.33744L12.6561 6.33744L12.6559 6.33612L12.7503 5.63958C12.9182 4.40018 14.1645 3.61294 15.3559 3.99381C15.72 4.11023 15.9938 4.41286 16.0734 4.7868L16.0913 4.87114C16.2519 5.62624 15.6761 6.33744 14.9041 6.33744ZM17 7.64375C17.9389 7.64375 18.7 8.40486 18.7 9.34375L18.7 11.9827L5.3 11.9827L5.3 9.34375C5.3 8.40486 6.06112 7.64375 7 7.64375L17 7.64375ZM5.3 13.2827L5.3 17C5.3 17.9389 6.06112 18.7 7 18.7L17 18.7C17.9389 18.7 18.7 17.9389 18.7 17L18.7 13.2827L5.3 13.2827Z" fill="#717681" fill-rule="evenodd" /></svg>`,
};

// Ğ”ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğµ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ³Ğ¾ ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€Ğ°
const DEFAULT_CLIENT_ICONS = {
  // Safety Certificate Solid Ğ´Ğ»Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° - Ñ†Ğ²ĞµÑ‚ #32C665
  'phone-check': `<svg viewBox="0 0 24 24" width="24" height="24" fill="none"><path d="M4 5.92261C4 5.32617 4.40576 4.80615 4.98486 4.66138L11.2725 3.0896C11.75 2.97021 12.25 2.97021 12.7275 3.0896L19.0151 4.66138C19.5942 4.80615 20 5.32617 20 5.92261L20 11.1531C20 14.2561 18.4014 17.1404 15.77 18.7852L12.689 20.7107C12.2676 20.9741 11.7324 20.9741 11.311 20.7107L8.22998 18.7852C5.59863 17.1404 4 14.2561 4 11.1531L4 5.92261ZM10.6709 7.5481C10.417 7.802 10.417 8.21362 10.6709 8.46729C10.9248 8.72119 11.3359 8.72119 11.5898 8.46729L12.2036 7.85376C12.9419 7.11572 14.1387 7.11572 14.877 7.85376C15.6152 8.59204 15.6152 9.78906 14.877 10.5273L14.2632 11.1409C14.0098 11.3945 14.0098 11.8062 14.2632 12.0601C14.5171 12.314 14.9287 12.314 15.1826 12.0601L15.7964 11.4465C17.042 10.2007 17.042 8.18042 15.7964 6.93457C14.5503 5.68872 12.5303 5.68872 11.2842 6.93457L10.6709 7.5481ZM13.4395 10.21C13.6934 9.9563 13.6934 9.54468 13.4399 9.29077C13.186 9.03687 12.7744 9.03687 12.5205 9.29077L10.4771 11.3342C10.2231 11.5881 10.2231 11.9998 10.4771 12.2537C10.7305 12.5073 11.1421 12.5073 11.396 12.2537L13.4395 10.21ZM8.11279 14.6028C6.88379 13.3386 6.89746 11.3213 8.14453 10.0742L8.78223 9.43628C9.03613 9.18262 9.44775 9.18262 9.70166 9.43628C9.95557 9.69019 9.95557 10.1018 9.70166 10.3557L9.06396 10.9934C8.32031 11.7371 8.31104 12.9395 9.04248 13.6943C9.78125 14.4294 10.9756 14.4285 11.7129 13.6912L12.375 13.0291C12.6289 12.7751 13.0405 12.7751 13.2944 13.0291C13.5483 13.283 13.5483 13.6943 13.2944 13.9482L12.6323 14.6104C11.3862 15.8562 9.3584 15.8486 8.11279 14.6028Z" fill="#32C665" fill-rule="evenodd" /></svg>`,
  // Government Solid Ğ´Ğ»Ñ Ğ¿Ğ°ÑĞ¿Ğ¾Ñ€Ñ‚Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… - Ñ†Ğ²ĞµÑ‚ #9F1853
  'phone-number': `<svg viewBox="0 0 24 24" width="24" height="24" fill="none"><path d="M12.2686 2.37118L12.4746 1.95919C12.5743 1.75972 12.4293 1.52502 12.2062 1.52502L11.7942 1.52502C11.5712 1.52502 11.4262 1.75972 11.5259 1.95919L11.7319 2.37118C11.8425 2.5923 12.158 2.5923 12.2686 2.37118ZM11.5021 2.79546C11.4448 2.68087 11.3208 2.61416 11.1948 2.63724C10.8588 2.69875 10.5279 2.80345 10.3598 2.97152C9.97717 3.35417 10.3086 4.45085 10.6878 4.92913C10.7372 4.99147 10.8146 5.02206 10.8942 5.02206L13.1063 5.02206C13.1859 5.02206 13.2633 4.99148 13.3127 4.92913C13.6919 4.45085 14.0233 3.35417 13.6407 2.97152C13.4719 2.80276 13.142 2.69788 12.8059 2.63648C12.6799 2.61347 12.5561 2.68018 12.4988 2.79469L12.2686 3.25518C12.158 3.47629 11.8425 3.47629 11.7319 3.25518L11.5021 2.79546ZM8.36095 6.07318C7.37235 6.07318 6.65239 6.54421 6.91147 7.42632C6.92352 7.46732 6.96186 7.49471 7.0046 7.49471L7.84645 7.49471C8.41205 7.49471 9.28789 8.24328 9.53516 9.53761C9.58369 9.91694 9.59971 10.3371 9.60331 10.8099C9.60673 11.259 9.23654 11.6298 8.77953 11.6298C8.32544 11.6298 7.95733 11.2617 7.95733 10.8076L7.95733 10.7174C7.95733 10.316 7.8076 9.929 7.53742 9.63213L4.55875 6.35922C4.30786 6.08354 3.83473 6.0574 3.58529 6.40265C3.05734 7.13338 2.74352 8.12981 2.62588 9.19081C2.50778 10.2559 2.58412 11.4136 2.86161 12.487C3.41079 14.6113 4.80098 16.5427 7.16839 16.5427L8.16383 16.5427C8.40741 16.5427 8.57772 16.3409 8.57772 16.1267C8.57772 15.7678 8.86873 15.4767 9.22772 15.4767C9.5867 15.4767 9.87772 15.7678 9.87772 16.1267C9.87772 16.1405 9.8773 16.154 9.87647 16.1675C9.87469 16.1965 9.87647 16.225 9.88144 16.2524C9.86616 16.543 9.74159 16.8753 9.5437 17.2323C9.33519 17.6084 9.06768 17.9737 8.82474 18.3046L8.81879 18.3127L8.81876 18.3128C8.679 18.5032 8.54301 18.6884 8.44251 18.8479C8.39123 18.9293 8.34333 19.013 8.30736 19.0946C8.27374 19.1709 8.23702 19.2748 8.23702 19.3886C8.23702 19.8125 8.48677 20.1621 8.77883 20.4266C9.07627 20.696 9.46728 20.9238 9.86412 21.1067C10.264 21.291 10.6869 21.4376 11.0612 21.5385C11.4283 21.6375 11.7743 21.6996 12.0137 21.6996C12.2532 21.6996 12.5992 21.6375 12.9662 21.5385C13.3405 21.4376 13.7635 21.291 14.1633 21.1067C14.5602 20.9238 14.9512 20.696 15.2486 20.4266C15.5407 20.1621 15.7904 19.8125 15.7904 19.3886C15.7904 19.273 15.7522 19.168 15.7177 19.0916C15.6807 19.0098 15.6315 18.9259 15.5789 18.8446C15.4758 18.6851 15.3364 18.4998 15.1931 18.3095L15.193 18.3093L15.193 18.3093L15.1869 18.3012C14.9402 17.9735 14.6687 17.6121 14.4557 17.2397C14.2402 16.8628 14.1081 16.5138 14.1025 16.2125L14.1023 16.1997L14.1011 16.1869C14.0993 16.1672 14.0984 16.1471 14.0984 16.1267C14.0984 15.7689 14.3907 15.4767 14.7508 15.4767C15.1109 15.4767 15.4033 15.7689 15.4033 16.1267C15.4033 16.3409 15.5735 16.5427 15.8172 16.5427L16.8591 16.5427C19.2265 16.5427 20.6167 14.6113 21.1658 12.487C21.4433 11.4136 21.5197 10.2559 21.4016 9.19081C21.2839 8.12981 20.9701 7.13338 20.4422 6.40265C20.1927 6.0574 19.7196 6.08354 19.4687 6.35922L16.49 9.63213C16.2198 9.929 16.0701 10.316 16.0701 10.7174L16.0701 10.7865C16.0701 11.2522 15.6926 11.6298 15.2269 11.6298C14.7574 11.6298 14.3795 11.2493 14.3866 10.7916C14.3902 10.5683 14.3969 10.3567 14.4088 10.1554L14.4104 10.1568C14.4109 10.1372 14.4115 10.1177 14.4123 10.0983C14.4201 9.97877 14.4298 9.86294 14.4419 9.75056C14.6285 8.32574 15.5688 7.49471 16.1648 7.49471L17.0066 7.49471C17.0494 7.49471 17.0877 7.46732 17.0998 7.42632C17.3588 6.54421 16.6389 6.07318 15.6503 6.07318C15.602 6.07318 15.5541 6.07442 15.5065 6.07685C15.4844 6.07448 15.4613 6.07327 15.4374 6.07327L12.9344 6.07324C12.7302 6.07324 12.5931 6.27051 12.6892 6.45065C12.7519 6.56813 12.8331 6.70205 12.9343 6.83572C12.9889 6.90777 13.0493 6.97975 13.1159 7.04904L13.1395 7.07324C13.1723 7.10637 13.2065 7.13879 13.2422 7.17022C12.617 7.77914 12.1844 8.51462 12.0068 9.02655L12.0056 9.02986L12.0045 9.02655C11.8273 8.51588 11.3964 7.78277 10.7737 7.17473C10.8112 7.14189 10.8472 7.10795 10.8815 7.07324L10.9051 7.04904C10.9716 6.97975 11.0321 6.90777 11.0867 6.83572C11.1879 6.70205 11.2691 6.56813 11.3318 6.45065C11.4279 6.27051 11.2908 6.07324 11.0866 6.07324L8.58356 6.07327C8.55851 6.07327 8.53446 6.0746 8.51136 6.07719C8.4616 6.07454 8.41146 6.07318 8.36095 6.07318Z" fill="#9F1853" fill-rule="evenodd" /></svg>`,
};

export default function App() {
  const [currentApp, setCurrentApp] = useState('showcase'); // 'home' | 'tasks' | 'showcase' | 'client-card'
  const [homeSection, setHomeSection] = useState('plan'); // 'plan' | 'calls' | 'leads' | 'clients' â€” Ñ€Ğ°Ğ·Ğ´ĞµĞ» Ğ½Ğ° Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹
  const [activeTab, setActiveTab] = useState(0);
  const [activeNavItem, setActiveNavItem] = useState(5);
  const [selectedProduct, setSelectedProduct] = useState(null); // { card, idx } â€” ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° Ğ² Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğµ
  const [selectedTask, setSelectedTask] = useState(null); // Ğ¾Ğ±ÑŠĞµĞºÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ â€” ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ² Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°Ñ…
  const [taskDetailTab, setTaskDetailTab] = useState(0);
  const [productDetailTab, setProductDetailTab] = useState(0);
  const [productDetailTabsVisibleCount, setProductDetailTabsVisibleCount] = useState(8);
  const [productDetailShowMoreMenu, setProductDetailShowMoreMenu] = useState(false);
  const productDetailTabsContainerRef = useRef(null);
  const productDetailTabsRefs = useRef([]);
  
  const tabs = [
    'Ğ’ÑĞµ', 'Ğ Ğ°ÑÑ‡ĞµÑ‚Ñ‹ Ğ² Ñ€ÑƒĞ±Ğ»ÑÑ…', 'ĞšĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸', 'Ğ˜Ğ½ĞºĞ°ÑÑĞ°Ñ†Ğ¸Ñ', 
    'ĞŸĞ°ĞºĞµÑ‚Ñ‹', 'Ğ”Ğ‘Ğ', 'Ğ¡ĞœĞ¡-Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ', 'Ğ’Ñ‹Ğ¿Ğ¸ÑĞºĞ¸ Ğ¸ ÑĞ¿Ñ€Ğ°Ğ²ĞºĞ¸', 'Ğ’ĞµĞ´ĞµĞ½Ğ¸Ğµ ÑÑ‡ĞµÑ‚Ğ°'
  ];
  
  // Ğ¢Ñ€Ğ°Ğ½ÑĞ»Ğ¸Ñ‚ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¸Ñ†Ñ‹ Ğ² Ğ»Ğ°Ñ‚Ğ¸Ğ½Ğ¸Ñ†Ñƒ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ñ… ID
  const transliterate = (str) => {
    const map = {
      'Ğ°': 'a', 'Ğ±': 'b', 'Ğ²': 'v', 'Ğ³': 'g', 'Ğ´': 'd', 'Ğµ': 'e', 'Ñ‘': 'yo', 'Ğ¶': 'zh',
      'Ğ·': 'z', 'Ğ¸': 'i', 'Ğ¹': 'y', 'Ğº': 'k', 'Ğ»': 'l', 'Ğ¼': 'm', 'Ğ½': 'n', 'Ğ¾': 'o',
      'Ğ¿': 'p', 'Ñ€': 'r', 'Ñ': 's', 'Ñ‚': 't', 'Ñƒ': 'u', 'Ñ„': 'f', 'Ñ…': 'h', 'Ñ†': 'ts',
      'Ñ‡': 'ch', 'Ñˆ': 'sh', 'Ñ‰': 'sch', 'ÑŠ': '', 'Ñ‹': 'y', 'ÑŒ': '', 'Ñ': 'e', 'Ñ': 'yu', 'Ñ': 'ya'
    };
    return str.toLowerCase().split('').map(char => map[char] ?? char).join('');
  };

  // Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ ID Ğ¸Ğ· ÑÑ‚Ñ€Ğ¾ĞºĞ¸ (Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹ ĞºĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¸Ñ†Ñ‹)
  const createSafeId = (str) => {
    return transliterate(str)
      .replace(/[^a-z0-9]/g, '-')
      .replace(/-+/g, '-')
      .replace(/^-|-$/g, '');
  };

  // Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ID ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸: "card-" + Ğ¸Ğ½Ğ´ĞµĞºÑ (Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹)
  const getCardId = (card, idx) => `card-${idx}`;

  const [uploadedImages, setUploadedImages] = useState({}); // { cardId: svgContent }
  const [uploadedIcons, setUploadedIcons] = useState({}); // { iconId: svgContent }
  const [uploadedMenuIcons, setUploadedMenuIcons] = useState({}); // { menuItemId: svgContent } Ğ´Ğ»Ñ "Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹" Ğ¸ "ĞĞºÑ†Ğ¸Ğ¸"
  const [uploadedClientIcons, setUploadedClientIcons] = useState({}); // { 'phone-check': svgContent, 'phone-number': svgContent }
  const [uploadModal, setUploadModal] = useState({ open: false, cardId: null, iconId: null, type: null, menuItemId: null, clientIconType: null }); // type: 'image' | 'icon' | 'menu-icon' | 'client-icon'
  const uploadContextRef = useRef(null); // ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ½Ğ° Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ¸ â€” Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ° (async) Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚Ğ¾Ñ‚ Ğ¶Ğµ slot
  const [visibleTabsCount, setVisibleTabsCount] = useState(tabs.length);
  const [showMoreMenu, setShowMoreMenu] = useState(false);
  const [showCounters, setShowCounters] = useState(false); // ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ»Ğ¸ĞºÑƒ Ğ½Ğ° ĞºĞ¾Ğ»Ğ¾ĞºĞ¾Ğ»ÑŒÑ‡Ğ¸Ğº
  const tabsContainerRef = useRef(null);
  const tabsRefs = useRef([]);
  
  // Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ²ÑĞµÑ… Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ¸Ğ· localStorage Ğ¿Ñ€Ğ¸ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
  useEffect(() => {
    const loadFromStorage = (key) => {
      try {
        const saved = localStorage.getItem(key);
        return saved ? JSON.parse(saved) : {};
      } catch (e) {
        console.error(`[FRKK] Error loading ${key}:`, e);
        return {};
      }
    };
    
    // Ğ’ÑĞµ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ Ñ…Ñ€Ğ°Ğ½ÑÑ‚ÑÑ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ² localStorage ĞºĞ°Ğº SVG ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚
    const cardImages = loadFromStorage('frkk_cards');
    const userIconImages = loadFromStorage('frkk_icons');
    const userMenuIconImages = loadFromStorage('frkk_menu_icons');
    const userClientIconImages = loadFromStorage('frkk_client_icons');
    
    // ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµĞ¼ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ñ‹Ğµ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğ¼Ğ¸ (Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒÑĞºĞ¸Ğµ Ğ¸Ğ¼ĞµÑÑ‚ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚)
    const iconImages = { ...DEFAULT_MENU_ICONS, ...userIconImages };
    const menuIconImages = { ...DEFAULT_NAV_MENU_ICONS, ...userMenuIconImages };
    const clientIconImages = { ...DEFAULT_CLIENT_ICONS, ...userClientIconImages };
    
    setUploadedImages(cardImages);
    setUploadedIcons(iconImages);
    setUploadedMenuIcons(menuIconImages);
    setUploadedClientIcons(clientIconImages);
    
    console.log('[FRKK] Loaded from localStorage:', {
      cards: Object.keys(cardImages),
      icons: Object.keys(iconImages),
      defaultIcons: Object.keys(DEFAULT_MENU_ICONS),
      userIcons: Object.keys(userIconImages),
      menuIcons: Object.keys(menuIconImages),
      clientIcons: Object.keys(clientIconImages)
    });
  }, []);

  // Ğ£Ğ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ id Ğ´Ğ»Ñ Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ² Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ°Ğ¼Ğ¸ (createSafeId Ğ´Ğ»Ñ ĞºĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¸Ñ†Ñ‹ Ğ´Ğ°Ñ‘Ñ‚ Ğ¿ÑƒÑÑ‚ÑƒÑ ÑÑ‚Ñ€Ğ¾ĞºÑƒ)
  const getMenuItemId = (item) => item.menuIconId ?? createSafeId(item.label);
  // ĞœĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² Ğ½Ğ° Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹: 4 Ğ¿ÑƒĞ½ĞºÑ‚Ğ° Ğ±ĞµĞ· Ğ¸ĞºĞ¾Ğ½Ğ¾Ğº (active Ğ¿Ğ¾ homeSection)
  const homeNavMenuItems = [
    { label: 'ĞŸĞ»Ğ°Ğ½ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ', section: 'plan' },
    { label: 'Ğ—Ğ²Ğ¾Ğ½ĞºĞ¸', section: 'calls' },
    { label: 'Ğ›Ğ¸Ğ´Ñ‹ Ğ ĞšĞ', section: 'leads' },
    { label: 'ĞœĞ¾Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹', section: 'clients' },
  ];
  // ĞœĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² Ğ² ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° (Ğ¿Ğ¾Ğ´Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ñ‹ Ğ²ĞºĞ»Ğ°Ğ´ĞºĞ¸ Â«ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾ĞµÂ»)
  const clientCardNavMenuItems = [
    { label: 'Ğ ĞµĞºĞ²Ğ¸Ğ·Ğ¸Ñ‚Ñ‹', active: true },
    { label: 'Ğ’Ğ¸Ğ´Ñ‹ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸' },
    { label: 'Ğ¡Ñ‚Ñ€Ğ°Ñ…. Ğ±Ñ€Ğ¾ĞºĞµÑ€' },
    { label: 'Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹' },
    { label: 'Ğ¡Ğ¾Ğ²Ğ»Ğ°Ğ´ĞµĞ»ÑŒÑ†Ñ‹' },
    { label: 'Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ñ‹' },
  ];
  // ĞœĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² Ğ² Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ (Ğ¿Ğ¾ Ğ¼Ğ°ĞºĞµÑ‚Ñƒ). Â«ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸Â» â€” Ğ²Ğ½Ğ¸Ğ·Ñƒ Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ¾Ğ¹ Settings Outline.
  const tasksNavMenuItems = [
    { label: 'ĞĞµÑ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ', active: true },
    { label: 'ĞœĞ¾Ğ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸' },
    { label: 'Ğ”Ğ¡Ğ¤' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ ÑĞ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¾Ğ²' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¼Ğ¾ĞµĞ¹ Ğ¢ĞŸ' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¼Ğ¾Ğ¸Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¼Ğ¾ĞµĞ¹ Ğ´Ğ¸Ñ€ĞµĞºÑ†Ğ¸Ğ¸' },
    { label: 'ĞĞ°Ğ±Ğ»ÑĞ´Ğ°Ñ' },
    { label: 'Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ²Ğ¸ĞºĞ¸Ğ¿ĞµĞ´Ğ¸Ñ' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ¾ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸' },
    { label: 'Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ğ¾ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ' },
    { label: 'Ğ’Ğ·ÑÑ‚Ñ‹Ğµ Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ' },
    { label: 'ĞĞ±Ğ·Ğ²Ğ¾Ğ½ Ğ±Ğ°Ğ·Ñ‹' },
    { label: 'ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸', settingsIcon: true },
  ];
  // Ğ˜ĞºĞ¾Ğ½ĞºĞ° ÑˆĞµÑÑ‚ĞµÑ€Ñ‘Ğ½ĞºĞ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ° ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ² Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°Ñ… (fill #717681 Ğ¿Ğ¾ Ğ¼Ğ°ĞºĞµÑ‚Ñƒ)
  const SettingsOutlineIcon = ({ color = '#717681' }) => (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style={{ flexShrink: 0 }}>
      <path fillRule="evenodd" clipRule="evenodd" d="M15.9998 12C15.9998 14.2092 14.209 16 11.9998 16C9.79071 16 7.99985 14.2092 7.99985 12C7.99985 9.79087 9.79071 8.00001 11.9998 8.00001C14.209 8.00001 15.9998 9.79087 15.9998 12ZM14.6998 12C14.6998 13.4912 13.491 14.7 11.9998 14.7C10.5087 14.7 9.29985 13.4912 9.29985 12C9.29985 10.5088 10.5087 9.30001 11.9998 9.30001C13.491 9.30001 14.6998 10.5088 14.6998 12Z" fill={color}/>
      <path fillRule="evenodd" clipRule="evenodd" d="M10.9829 3.00494C10.0972 3.00494 9.34712 3.65809 9.22535 4.5354C9.07434 5.6234 7.93962 6.27853 6.92187 5.86531C6.10122 5.53211 5.16054 5.85512 4.71768 6.62217L3.76095 8.27928C3.32346 9.03703 3.50364 10.0006 4.18538 10.549C5.06698 11.2583 5.05247 12.6261 4.14737 13.3307C3.44849 13.8748 3.25788 14.851 3.70074 15.618L4.65747 17.2751C5.09496 18.0329 6.0195 18.3586 6.83534 18.0424C7.89037 17.6336 9.06765 18.33 9.22535 19.4662C9.34712 20.3435 10.0972 20.9966 10.9829 20.9966H12.8964C13.7713 20.9966 14.5157 20.3588 14.6498 19.4942C14.8322 18.3184 16.0549 17.6125 17.1644 18.0424C17.9802 18.3586 18.9047 18.0329 19.3422 17.2751L20.299 15.618C20.7418 14.851 20.5512 13.8748 19.8523 13.3307C18.9472 12.6261 18.9327 11.2583 19.8143 10.549C20.4961 10.0006 20.6762 9.03703 20.2387 8.27929L19.282 6.62217C18.8392 5.85512 17.8985 5.53211 17.0778 5.86531C16.015 6.29682 14.8232 5.62549 14.6498 4.50738C14.5157 3.64275 13.7713 3.00494 12.8964 3.00494H10.9829ZM10.513 4.71413C10.5456 4.47957 10.7461 4.30494 10.9829 4.30494L12.8964 4.30494C13.1303 4.30494 13.3293 4.47547 13.3652 4.70663C13.6695 6.66888 15.7415 7.81096 17.5669 7.06981C17.7863 6.98073 18.0378 7.06709 18.1562 7.27217L19.1129 8.92928C19.2299 9.13187 19.1817 9.38948 18.9994 9.53612C17.4523 10.7808 17.4992 13.1462 19.0537 14.3565C19.2406 14.502 19.2915 14.7629 19.1731 14.968L18.2164 16.6251C18.0994 16.8277 17.8522 16.9148 17.6341 16.8303C15.7506 16.1003 13.6748 17.2988 13.3652 19.295C13.3293 19.5261 13.1303 19.6966 12.8964 19.6966H10.9829C10.7461 19.6966 10.5456 19.522 10.513 19.2875C10.2421 17.336 8.21711 16.1127 6.36558 16.8303C6.14745 16.9148 5.90027 16.8277 5.78331 16.6251L4.82657 14.968C4.70817 14.7629 4.75913 14.502 4.94598 14.3565C6.50054 13.1462 6.54743 10.7808 5.00026 9.53612C4.81799 9.38948 4.76981 9.13187 4.88678 8.92928L5.84352 7.27217C5.96192 7.06709 6.21342 6.98073 6.43283 7.06981C8.23557 7.80175 10.2455 6.64132 10.513 4.71413Z" fill={color}/>
    </svg>
  );
  const navMenuItems = [
    { icon: 'â˜†', label: 'Ğ˜Ğ·Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñ‹', menuIconId: 'favorites' },
    { icon: 'ğŸ', label: 'ĞĞºÑ†Ğ¸Ğ¸', menuIconId: 'promo' },
    { divider: true },
    { label: 'Ğ¡Ñ‡ĞµÑ‚Ğ°' },
    { label: 'Ğ¡Ğ¿ĞµÑ†. ÑÑ‡ĞµÑ‚Ğ°' },
    { label: 'Ğ Ğ°ÑÑ‡ĞµÑ‚Ğ½Ğ¾-ĞºĞ°ÑÑĞ¾Ğ²Ğ¾Ğµ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ', active: true },
    { label: 'Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-ĞºĞ°Ñ€Ñ‚Ñ‹' },
    { label: 'ĞĞµĞ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹' },
    { label: 'ĞšĞ°ÑÑĞ° Ğ¸ ÑĞºĞ²Ğ°Ğ¹Ñ€Ğ¸Ğ½Ğ³' },
    { label: 'Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹ Ğ¸ Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¸' },
    { label: 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ° Ğ¸ ĞšĞ­ĞŸ' },
    { label: 'ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ñ‹' },
    { label: 'Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ğ¸ Ğ¸ Ğ°ĞºĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¸Ğ²Ñ‹' },
    { label: 'ĞšĞ¾Ñ€Ğ¿. ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ' },
    { label: 'Ğ’Ğ­Ğ”' },
    { label: 'Ğ Ğ°ÑÑ‡Ñ‘Ñ‚Ñ‹ Ñ ÑĞ°Ğ¼Ğ¾Ğ·Ğ°Ğ½ÑÑ‚Ñ‹Ğ¼Ğ¸' },
    { label: 'Ğ—Ğ°Ñ€Ğ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚' },
  ];

  const cards = [
    { title: 'ĞŸĞ°ĞºĞµÑ‚ Â«ĞĞ° ÑÑ‚Ğ°Ñ€Ñ‚ĞµÂ»', bonus: 'ĞĞµ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ', bonusGray: true },
    { title: 'ĞŸĞ°ĞºĞµÑ‚ Â«Ğ’ÑÑ‘ Ğ¿Ğ¾ Ğ´ĞµĞ»ÑƒÂ»', bonus: '10-30 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'ĞŸĞ°ĞºĞµÑ‚ Â«Ğ’ÑÑ‘ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾Â»', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²', badge: 'ĞĞ¾Ğ²Ğ¾Ğµ' },
    { title: 'ĞŸĞ°ĞºĞµÑ‚ Â«Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚Ñ‹Â»', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'ĞŸĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´', bonus: 'ĞĞµ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ', bonusGray: true },
    { title: 'ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ€ÑƒÑ‡ĞµĞ½Ğ¸Ñ', bonus: '10-30 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'ĞšĞ°ÑÑĞ¾Ğ²Ñ‹Ğµ Ğ·Ğ°ÑĞ²ĞºĞ¸', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'Ğ Ğ°ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'Ğ”Ğ‘Ğ', bonus: 'ĞĞµ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ', bonusGray: true },
    { title: 'Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğ¼Ğ¾Ñ‡Ğ¸Ğ¹', bonus: '10-30 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'ĞŸĞ°ĞºĞµÑ‚ Ğ¡ĞœĞ¡ Â«Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¸ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»ÑŒÂ»', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'Ğ¡ĞœĞ¡-Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'Ğ ÑƒĞ±Ğ»ĞµĞ²Ñ‹Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ€ÑƒÑ‡ĞµĞ½Ğ¸ÑÂ» ', bonus: 'ĞĞµ Ğ½Ğ°Ñ‡Ğ¸ÑĞ»ÑÑÑ‚ÑÑ', bonusGray: true },
    { title: 'ĞĞ½Ğ»Ğ°Ğ¹Ğ½ Ğ¸Ğ½ĞºĞ°ÑÑĞ°Ñ†Ğ¸Ñ Ğ² ĞĞ”ĞœÂ»', bonus: '10-30 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²' },
    { title: 'Ğ—Ğ°Ñ€Ğ°Ğ½ĞµĞµ Ğ²Ñ‹Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ°ĞºÑ†ĞµĞ¿Ñ‚Ñ‹', bonus: '20 Ğ±Ğ°Ğ»Ğ»Ğ¾Ğ²', badge: 'ĞĞ¾Ğ²Ğ¾Ğµ' },
  ];

  const productDetailTabs = [
    'Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ñ', 'ĞŸÑ€ĞµĞ·ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸', 'Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ‹', 'Ğ¡ĞºÑ€Ğ¸Ğ¿Ñ‚', 'ĞŸÑ€Ğ¾Ñ†ĞµÑÑ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ', 'Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¸ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹',
    { label: 'ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ', badge: 1 },
    { label: 'ĞĞºÑ†Ğ¸Ñ', badge: 1 },
  ];
  const productConditions = [
    { title: 'Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ°ĞºĞµÑ‚Ğ°', items: [{ value: 'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾', detail: '3 Ğ¼ĞµÑÑÑ†Ğ°' }, { value: '2000 Ğ  Ğ² Ğ¼ĞµÑ.', detail: 'Ğ¡ 4-Ğ³Ğ¾ Ğ¼ĞµÑÑÑ†Ğ°, ĞµÑĞ»Ğ¸ Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ğ¹ Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚ Ğ¿Ğ¾ ÑÑ‡ĞµÑ‚Ñƒ Ğ¾Ñ‚ 10 000 Ğ ' }] },
    { title: 'ĞĞ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ ÑÑ‡ĞµÑ‚Ğ°', items: [{ value: 'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾', detail: 'ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸ Ğ”Ğ‘Ğ' }] },
    { title: 'ĞŸÑ€Ğ¸ĞµĞ¼ Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ñ€ÑƒÑ‡ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ´ĞµĞ½ĞµĞ¶Ğ½Ñ‹Ñ… ÑÑ€ĞµĞ´ÑÑ‚Ğ² ÑĞ¾ ÑÑ‡ĞµÑ‚Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°', items: [{ value: 'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾', detail: 'ĞĞ° ÑÑ‡ĞµÑ‚Ğ° Ğ² Ğ’Ğ¢Ğ‘' }, { value: '5 ÑˆÑ‚. / Ğ¼ĞµÑ', detail: 'ĞĞ° ÑÑ‡ĞµÑ‚Ğ° Ğ² Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ±Ğ°Ğ½ĞºĞ°Ñ…' }, { value: 'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾', detail: 'Ğ’ Ğ±ÑĞ´Ğ¶ĞµÑ‚Ğ½Ñ‹Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ Ğ¤' }] },
    { title: 'ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´Ñ‹ Ğ½Ğ° ÑÑ‡ĞµÑ‚Ğ° Ñ„Ğ¸Ğ·Ğ»Ğ¸Ñ†', items: [{ value: 'Ğ¾Ñ‚ 1% Ğ¾Ñ‚ ÑÑƒĞ¼Ğ¼Ñ‹', detail: 'Ğ’Ğ¾ Ğ²ÑĞµ Ğ±Ğ°Ğ½ĞºĞ¸ Ğ Ğ¤' }, { value: 'Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ğ¾', detail: 'Ğ¡Ğ¾ ÑÑ‡ĞµÑ‚Ğ° Ğ˜ĞŸ Ğ½Ğ° ÑĞ²Ğ¾Ğ¹ ÑÑ‡ĞµÑ‚ Ğ¤Ğ›' }] },
    { title: 'ĞŸÑ€Ğ¸ĞµĞ¼ Ğ¸ Ğ¿ĞµÑ€ĞµÑÑ‡ĞµÑ‚ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ´ĞµĞ½ĞµĞ¶Ğ½Ñ‹Ñ… ÑÑ€ĞµĞ´ÑÑ‚Ğ²', items: [{ value: 'Ğ¾Ñ‚ 1% Ğ¾Ñ‚ ÑÑƒĞ¼Ğ¼Ñ‹, Ğ¼Ğ¸Ğ½. 375 Ğ ', detail: null }] },
  ];

  // Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² localStorage Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ state
  const saveToStorage = (key, id, content, setState) => {
    try {
      const current = JSON.parse(localStorage.getItem(key) || '{}');
      current[id] = content;
      localStorage.setItem(key, JSON.stringify(current));
      setState(prev => ({ ...prev, [id]: content }));
      console.log(`[FRKK] Saved ${key}[${id}]`);
      return true;
    } catch (e) {
      console.error(`[FRKK] Error saving ${key}[${id}]:`, e);
      alert('ĞÑˆĞ¸Ğ±ĞºĞ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ: Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾, Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞµĞ½ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚ localStorage');
      return false;
    }
  };

  // ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ SVG Ñ„Ğ°Ğ¹Ğ»Ğ° â€” Ğ²ÑÑ‘ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ² localStorage
  const handleImageUpload = (event) => {
    const file = event.target.files?.[0];
    if (!file) return;
    const ctx = uploadContextRef.current;
    if (!ctx) return;
    const { cardId, iconId, type, menuItemId, clientIconType } = ctx;
    
    if (file.type !== 'image/svg+xml' && !file.name.endsWith('.svg')) {
      alert('ĞŸĞ¾Ğ¶Ğ°Ğ»ÑƒĞ¹ÑÑ‚Ğ°, Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚Ğµ SVG Ñ„Ğ°Ğ¹Ğ»');
      return;
    }
    
    const reader = new FileReader();
    reader.onload = (e) => {
      const svgContent = e.target.result;
      if (!svgContent.includes('<svg') && !svgContent.includes('<?xml')) {
        alert('Ğ¤Ğ°Ğ¹Ğ» Ğ½Ğµ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ½Ñ‹Ğ¼ SVG');
        return;
      }
      
      let success = false;
      
      if (type === 'menu-icon' && menuItemId) {
        success = saveToStorage('frkk_menu_icons', menuItemId, svgContent, setUploadedMenuIcons);
      } else if (type === 'client-icon' && clientIconType) {
        success = saveToStorage('frkk_client_icons', clientIconType, svgContent, setUploadedClientIcons);
      } else if (type === 'icon' && iconId) {
        success = saveToStorage('frkk_icons', iconId, svgContent, setUploadedIcons);
      } else if (cardId) {
        success = saveToStorage('frkk_cards', cardId, svgContent, setUploadedImages);
      }
      
      if (success) {
        setUploadModal({ open: false, cardId: null, iconId: null, type: null, menuItemId: null, clientIconType: null });
      }
    };
    reader.onerror = () => alert('ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ Ñ‡Ñ‚ĞµĞ½Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ°');
    reader.readAsText(file);
  };
  
  // ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾ĞºĞ½Ğ°. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ² ref, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ° (async) Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ»ÑÑ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ ÑÑ‚Ğ¾Ñ‚ ÑĞ»Ğ¾Ñ‚.
  const openUploadModal = (cardId = null, iconId = null, type = 'image', menuItemId = null, clientIconType = null) => {
    const ctx = { cardId, iconId, type, menuItemId, clientIconType };
    console.log(`[FRKK] Opening upload modal:`, ctx);
    uploadContextRef.current = ctx;
    setUploadModal({ open: true, ...ctx });
  };

  const closeUploadModal = () => {
    uploadContextRef.current = null;
    setUploadModal({ open: false, cardId: null, iconId: null, type: null, menuItemId: null, clientIconType: null });
  };

  // Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ‹Ñ… Ñ‚Ğ°Ğ±Ğ¾Ğ²
  useEffect(() => {
    const calculateVisibleTabs = () => {
      if (!tabsContainerRef.current) return;
      
      const container = tabsContainerRef.current;
      const containerWidth = container.offsetWidth;
      const moreButtonWidth = 130; // Ğ¨Ğ¸Ñ€Ğ¸Ğ½Ğ° ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞµÑ‰Ğµ"
      let usedWidth = 0;
      let visibleCount = 0;
      
      // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ‚Ğ°Ğ±
      for (let i = 0; i < tabs.length; i++) {
        if (tabsRefs.current[i]) {
          const tabWidth = tabsRefs.current[i].offsetWidth;
          const wouldNeedMoreButton = visibleCount > 0 && (usedWidth + tabWidth + moreButtonWidth > containerWidth);
          
          if (wouldNeedMoreButton) {
            break;
          }
          
          usedWidth += tabWidth;
          visibleCount++;
        }
      }
      
      // Ğ•ÑĞ»Ğ¸ Ğ²ÑĞµ Ñ‚Ğ°Ğ±Ñ‹ Ğ¿Ğ¾Ğ¼ĞµÑ‰Ğ°ÑÑ‚ÑÑ, Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ²ÑĞµ
      if (visibleCount >= tabs.length) {
        setVisibleTabsCount(tabs.length);
      } else {
        // ĞÑÑ‚Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ¼ĞµÑÑ‚Ğ¾ Ğ´Ğ»Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞµÑ‰Ğµ"
        setVisibleTabsCount(Math.max(0, visibleCount));
      }
    };

    // ĞĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ·Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ°
    const timeoutId = setTimeout(calculateVisibleTabs, 100);
    window.addEventListener('resize', calculateVisibleTabs);
    
    return () => {
      clearTimeout(timeoutId);
      window.removeEventListener('resize', calculateVisibleTabs);
    };
  }, [tabs.length]);

  // Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¼ĞµĞ½Ñ Ğ¿Ñ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ Ğ²Ğ½Ğµ ĞµĞ³Ğ¾
  useEffect(() => {
    const handleClickOutside = (event) => {
      if (showMoreMenu && !event.target.closest('[data-show-more-menu]')) {
        setShowMoreMenu(false);
      }
      if (productDetailShowMoreMenu && !event.target.closest('[data-product-detail-show-more]')) {
        setProductDetailShowMoreMenu(false);
      }
    };

    document.addEventListener('mousedown', handleClickOutside);
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, [showMoreMenu, productDetailShowMoreMenu]);

  // Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ²Ğ¸Ğ´Ğ¸Ğ¼Ñ‹Ñ… Ñ‚Ğ°Ğ±Ğ¾Ğ² Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° (ĞºĞ°Ğº Ğ½Ğ° Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğµ Ñ Â«ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµÂ»)
  const productDetailTabsFlat = productDetailTabs.map(t => typeof t === 'string' ? t : t.label);
  useEffect(() => {
    if (!selectedProduct) return;
    const calculateVisibleTabs = () => {
      if (!productDetailTabsContainerRef.current) return;
      const container = productDetailTabsContainerRef.current;
      const containerWidth = container.offsetWidth;
      const moreButtonWidth = 130;
      let usedWidth = 0;
      let visibleCount = 0;
      for (let i = 0; i < productDetailTabsFlat.length; i++) {
        const el = productDetailTabsRefs.current[i];
        if (!el) continue;
        const tabWidth = el.offsetWidth || 0;
        if (visibleCount > 0 && usedWidth + tabWidth + moreButtonWidth > containerWidth) break;
        usedWidth += tabWidth;
        visibleCount++;
      }
      setProductDetailTabsVisibleCount(visibleCount >= productDetailTabsFlat.length ? productDetailTabsFlat.length : Math.max(0, visibleCount));
    };
    const timeoutId = setTimeout(calculateVisibleTabs, 100);
    window.addEventListener('resize', calculateVisibleTabs);
    return () => {
      clearTimeout(timeoutId);
      window.removeEventListener('resize', calculateVisibleTabs);
    };
  }, [selectedProduct, productDetailTabsFlat.length]);

  // Ğ¡Ğ±Ñ€Ğ¾Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° Ğ¿Ñ€Ğ¸ ÑƒÑ…Ğ¾Ğ´Ğµ Ñ Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ñ‹
  useEffect(() => {
    if (currentApp !== 'showcase') setSelectedProduct(null);
  }, [currentApp]);

  // Ğ¡Ğ±Ñ€Ğ¾Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸ Ğ¿Ñ€Ğ¸ ÑƒÑ…Ğ¾Ğ´Ğµ Ñ Ğ—Ğ°Ğ´Ğ°Ñ‡
  useEffect(() => {
    if (currentApp !== 'tasks') setSelectedTask(null);
  }, [currentApp]);

  return (
    <>
      <style>{`
        * { 
          box-sizing: border-box; 
          margin: 0; 
          padding: 0; 
          font-family: 'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        input, button, textarea, select {
          font-family: 'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        /* iOS-style scrollbar - 6px, transparent, overlay */
        .ios-scroll::-webkit-scrollbar {
          width: 6px;
          background: transparent;
        }
        .ios-scroll::-webkit-scrollbar-track {
          background: transparent;
        }
        .ios-scroll::-webkit-scrollbar-thumb {
          background: rgba(0, 0, 0, 0.2);
          border-radius: 3px;
        }
        .ios-scroll::-webkit-scrollbar-thumb:hover {
          background: rgba(0, 0, 0, 0.35);
        }
        .ios-scroll {
          scrollbar-width: thin;
          scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
        }
        /* Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºÑ€Ğ¾Ğ»Ğ»Ğ±Ğ°Ñ€ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¾Ğ² â€” Ğ²ÑĞµĞ³Ğ´Ğ° Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ¼ĞµÑÑ‚Ğ¾, Ğ²Ğ¸Ğ´ĞµĞ½ Ğ¿Ñ€Ğ¸ Ñ€ĞµÑĞ°Ğ¹Ğ·Ğµ Ğ¾ĞºĞ½Ğ° Ğ¼Ñ‹ÑˆĞºĞ¾Ğ¹ */
        .products-table-scroll::-webkit-scrollbar:horizontal {
          height: 8px;
        }
        .products-table-scroll::-webkit-scrollbar-track:horizontal {
          background: #F3F4F6;
          border-radius: 4px;
        }
        .products-table-scroll::-webkit-scrollbar-thumb:horizontal {
          background: rgba(0, 0, 0, 0.25);
          border-radius: 4px;
        }
        .products-table-scroll {
          scrollbar-gutter: stable;
        }
        
        .nav-icon:hover {
          background: rgba(0,0,0,0.04);
        }
        
        .menu-item:hover {
          background: rgba(0,0,0,0.03);
        }
        
        .card:hover {
          box-shadow: 0 4px 16px rgba(0,0,0,0.08);
        }
        
        .tab-btn:hover {
          color: #111827;
        }
        
        .card-image-container svg {
          max-width: 100%;
          max-height: 100%;
          width: auto;
          height: auto;
          display: block;
        }
        
        .nav-icon svg {
          max-width: 100%;
          max-height: 100%;
          width: auto;
          height: auto;
        }
        
        .card-image-container:hover .replace-hint {
          opacity: 1 !important;
        }
        
        .card-image-container:hover {
          opacity: 0.9;
        }
        
        .upload-placeholder:hover {
          border-color: #2563EB !important;
          background: #F8FAFC !important;
        }
        
        /* Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾ĞºĞ½Ğ° */
        @keyframes modalFadeIn {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }
        
        .upload-modal-content {
          animation: modalFadeIn 0.2s ease-out;
        }
        
        .cards-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 16px;
        }
        
        @media (max-width: 1599px) {
          .cards-grid {
            grid-template-columns: repeat(3, 1fr);
          }
        }
        
        @media (min-width: 1800px) {
          .task-detail-description {
            max-width: 70%;
          }
        }
      `}</style>
      
      <div style={{
        position: 'relative',
        width: '100vw',
        height: '100vh',
        overflow: 'hidden',
        fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
        fontSize: '14px',
        color: '#1F2937',
        background: '#F5F5F5',
      }}>

        {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            FIXED: Header - Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½, Ğ½Ğ° ÑĞµÑ€Ğ¾Ğ¼ Ñ„Ğ¾Ğ½Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
        <header style={{
          position: 'fixed',
          top: 0,
          left: 0,
          right: 0,
          height: '56px',
          background: 'transparent',
          display: 'flex',
          alignItems: 'center',
          padding: '0 24px',
          zIndex: 1000,
          gap: '12px',
          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
        }}>
          {/* Logo - Ğ·Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµĞ¼Ğ°Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ° */}
          <div 
            style={{ 
              width: '56px', 
              height: '56px', 
              display: 'flex', 
              alignItems: 'center', 
              justifyContent: 'center',
              marginRight: '8px',
              cursor: 'pointer',
            }}
            onClick={() => openUploadModal(null, 'header-logo', 'icon')}
          >
            {uploadedIcons['header-logo'] ? (
              <div 
                style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }}
                dangerouslySetInnerHTML={{ __html: uploadedIcons['header-logo'] }}
              />
            ) : (
              <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                <path d="M4 8h24M4 16h24M4 24h16" stroke="#2563EB" strokeWidth="3" strokeLinecap="round"/>
              </svg>
            )}
          </div>

          {/* Status badges */}
          <div style={{ display: 'flex', gap: '8px' }}>
            <div style={{ 
              background: 'white', 
              padding: '8px 12px', 
              borderRadius: '8px',
              fontSize: '13px',
              display: 'flex',
              alignItems: 'center',
              gap: '6px',
              boxShadow: '0 1px 2px rgba(0,0,0,0.05)',
            }}>
              <span style={{ color: '#6B7280' }}>Ğ’ Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸:</span>
              <span style={{ color: '#2563EB', fontWeight: '600' }}>23 ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°</span>
            </div>
            <div style={{ 
              background: 'white', 
              padding: '8px 12px', 
              borderRadius: '8px',
              fontSize: '13px',
              display: 'flex',
              alignItems: 'center',
              gap: '6px',
              boxShadow: '0 1px 2px rgba(0,0,0,0.05)',
            }}>
              <span style={{ color: '#22242A' }}>ĞĞµÑ€Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ»Ğ¸Ğ´Ñ‹:</span>
              <span style={{ fontWeight: '600', color: '#128238' }}>57</span>
              <span style={{ 
                color: '#F64E4E', 
                fontSize: '13px',
                fontWeight: '500',
              }}>2</span>
            </div>
            <div style={{ 
              background: 'white', 
              padding: '8px 12px', 
              borderRadius: '8px',
              fontSize: '13px',
              display: 'flex',
              alignItems: 'center',
              gap: '6px',
              boxShadow: '0 1px 2px rgba(0,0,0,0.05)',
            }}>
              <span style={{ color: '#22242A' }}>ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ»Ğ¸Ğ´Ñ‹:</span>
              <span style={{ fontWeight: '600', color: '#128238' }}>57</span>
              <span style={{ 
                color: '#F64E4E', 
                fontSize: '13px',
                fontWeight: '500',
              }}>2</span>
            </div>
          </div>

          {/* Right section */}
          <div style={{ marginLeft: 'auto', display: 'flex', alignItems: 'center', gap: '8px' }}>
            <div style={{ 
              display: 'flex', 
              alignItems: 'center',
              background: 'white',
              borderRadius: '8px',
              overflow: 'hidden',
              boxShadow: 'inset 0 0 0 2px #2563EB',
              position: 'relative',
              width: '356px',
            }}>
              <div style={{
                padding: '10px 12px',
                fontSize: '13px',
                color: '#6B7280',
                display: 'flex',
                alignItems: 'center',
                gap: '4px',
                borderRight: '1px solid #E5E7EB',
              }}>
                Ğ’ĞµĞ·Ğ´Ğµ
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                  <polyline points="6,9 12,15 18,9"/>
                </svg>
              </div>
              <input 
                type="text"
                placeholder="Ğ˜ÑĞºĞ°Ñ‚ÑŒ ..."
                style={{
                  padding: '10px 12px',
                  border: 'none',
                  flex: 1,
                  fontSize: '13px',
                  outline: 'none',
                  background: 'transparent',
                }}
              />
              <button style={{
                width: '40px', 
                height: '40px',
                background: '#2563EB',
                border: 'none',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                color: 'white',
                flexShrink: 0,
              }}>
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5">
                  <circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/>
                </svg>
              </button>
            </div>
            <button 
              style={{
                width: '40px', 
                height: '40px',
                background: 'white',
                border: 'none',
                borderRadius: '8px',
                cursor: 'pointer',
                position: 'relative',
                color: '#6B7280',
                boxShadow: '0 1px 2px rgba(0,0,0,0.05)',
              }}
              onClick={() => setShowCounters(!showCounters)}
            >
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/>
              </svg>
              <span style={{
                position: 'absolute',
                top: '6px', 
                right: '6px',
                width: '16px', 
                height: '16px',
                background: '#EF4444',
                borderRadius: '50%',
                fontSize: '10px',
                color: 'white',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontWeight: '500',
              }}>5</span>
            </button>
            <button 
              style={{
                background: '#2563EB',
                color: 'white',
                border: 'none',
                borderRadius: '8px',
                padding: '10px 16px',
                fontWeight: '500',
                cursor: 'pointer',
                fontSize: '13px',
                transition: 'background 0.15s',
              }}
              onMouseEnter={(e) => e.currentTarget.style.background = '#0046E2'}
              onMouseLeave={(e) => e.currentTarget.style.background = '#2563EB'}
              onClick={() => {
                if (currentApp === 'client-card') setCurrentApp('client-search');
                else if (currentApp === 'client-search') setCurrentApp('client-card');
                else setCurrentApp('client-card');
              }}
            >
              {currentApp === 'client-card' ? 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼' : currentApp === 'client-search' ? 'ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼' : 'Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ Ğº ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñƒ'}
            </button>
          </div>
        </header>

        {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            FIXED: Nav Bar - Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½, Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ½Ğ° ÑĞµÑ€Ğ¾Ğ¼ Ñ„Ğ¾Ğ½Ğµ
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
        <nav style={{
          position: 'fixed',
          top: '80px', 
          left: '24px',
          width: '56px',
          bottom: '72px',
          background: 'transparent',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          padding: 0,
          zIndex: 900,
          gap: '4px',
          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
        }}>
          {/* Top icons - 7 ÑˆÑ‚ÑƒĞº: icon-0 = Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ, icon-5 = Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğ°, Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ â€” Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° */}
          {[0, 1, 2, 3, 4, 5, 6].map((idx) => {
            const isHomeActive = idx === 0 && currentApp === 'home';
            const isTasksActive = idx === 2 && currentApp === 'tasks';
            const isShowcaseActive = idx === 5 && currentApp === 'showcase';
            const isActive = isHomeActive || isTasksActive || isShowcaseActive;
            return (
            <div 
              key={idx} 
              className={`nav-icon${isActive ? ' nav-icon-active' : ''}`}
              style={{
                width: '48px', 
                height: '48px',
                display: 'flex', 
                alignItems: 'center', 
                justifyContent: 'center',
                borderRadius: '100%', 
                cursor: 'pointer',
                background: isActive ? 'rgb(37, 99, 235)' : 'transparent',
                color: isActive ? '#FFFFFF' : '#23262D',
                fontSize: '20px',
                transition: 'background 0.15s',
                position: 'relative',
              }}
              onClick={() => {
                if (idx === 0) setCurrentApp('home');
                else if (idx === 2) setCurrentApp('tasks');
                else if (idx === 5) setCurrentApp('showcase');
                else openUploadModal(null, `icon-${idx}`, 'icon');
              }}
            >
              {uploadedIcons[`icon-${idx}`] ? (
                <div 
                  style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: isActive ? '#FFFFFF' : '#23262D' }}
                  dangerouslySetInnerHTML={{ __html: uploadedIcons[`icon-${idx}`] }}
                />
              ) : (
                <span style={{ color: isActive ? '#FFFFFF' : '#23262D' }}>?</span>
              )}
            </div>
          );})}
          
          <div style={{ flex: 1 }} />
          
          {/* Bottom icons - 3 ÑˆÑ‚ÑƒĞºĞ¸ (icon-7, icon-8, icon-9) */}
          {/* icon-7: ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ°Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ° (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ°Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°) */}
          <div 
            className="nav-icon"
            style={{
              width: '48px', 
              height: '48px',
              display: 'flex', 
              alignItems: 'center', 
              justifyContent: 'center',
              borderRadius: '100%', 
              cursor: 'pointer',
              color: '#23262D',
              fontSize: '20px',
              transition: 'background 0.15s',
            }}
            onClick={() => openUploadModal(null, 'icon-7', 'icon')}
          >
            {uploadedIcons['icon-7'] ? (
              <div 
                style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#23262D' }}
                dangerouslySetInnerHTML={{ __html: uploadedIcons['icon-7'] }}
              />
            ) : (
              <div style={{
                width: '24px',
                height: '24px',
                border: '2px dashed #9CA3AF',
                borderRadius: '6px',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontSize: '14px',
                color: '#9CA3AF',
              }}>+</div>
            )}
          </div>
          {/* icon-8: Help Outline */}
          <div 
            className="nav-icon"
            style={{
              width: '48px', 
              height: '48px',
              display: 'flex', 
              alignItems: 'center', 
              justifyContent: 'center',
              borderRadius: '100%', 
              cursor: 'pointer',
              color: '#23262D',
              fontSize: '20px',
              transition: 'background 0.15s',
              position: 'relative',
            }}
            onClick={() => openUploadModal(null, 'icon-8', 'icon')}
          >
            {uploadedIcons['icon-8'] ? (
              <div 
                style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#23262D' }}
                dangerouslySetInnerHTML={{ __html: uploadedIcons['icon-8'] }}
              />
            ) : (
              <span style={{ color: '#23262D' }}>â“</span>
            )}
            {showCounters && (
              <span style={{
                position: 'absolute',
                top: '4px',
                right: '4px',
                width: '16px',
                height: '16px',
                background: '#EF4444',
                borderRadius: '50%',
                fontSize: '10px',
                color: 'white',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                fontWeight: '500',
              }}>5</span>
            )}
          </div>
          {/* icon-9: Exit Outline */}
          <div 
            className="nav-icon"
            style={{
              width: '48px', 
              height: '48px',
              display: 'flex', 
              alignItems: 'center', 
              justifyContent: 'center',
              borderRadius: '100%', 
              cursor: 'pointer',
              color: '#23262D',
              fontSize: '20px',
              transition: 'background 0.15s',
            }}
            onClick={() => openUploadModal(null, 'icon-9', 'icon')}
          >
            {uploadedIcons['icon-9'] ? (
              <div 
                style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#23262D' }}
                dangerouslySetInnerHTML={{ __html: uploadedIcons['icon-9'] }}
              />
            ) : (
              <span style={{ color: '#23262D' }}>â†ª</span>
            )}
          </div>
        </nav>

        {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            FIXED: Right Sidebar - Ğ½Ğ° Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğµ Ğ¸ Ğ² ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
        {(currentApp === 'showcase' || currentApp === 'client-card') && (
        <aside className="ios-scroll" style={{
          position: 'fixed',
          top: '80px', 
          right: '24px',
          width: '356px',
          bottom: '72px',
          background: '#FFFFFF',
          borderRadius: '16px',
          overflowY: 'auto',
          boxShadow: '0 1px 3px rgba(0,0,0,0.08)',
          zIndex: 900,
          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
          padding: '24px',
        }}>
          {/* ĞšĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ°Ñ ÑĞµĞºÑ†Ğ¸Ñ */}
          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', paddingBottom: '24px', marginBottom: '16px' }}>
            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
                <div style={{ fontSize: '13px', color: '#9CA3AF' }}>Ğ˜ĞĞ 165039734691</div>
                <div style={{ 
                  fontSize: '18px', 
                  fontWeight: '500', 
                  lineHeight: 1.3,
                  color: '#111827',
                }}>
                  ĞĞĞ Â«ĞĞ‘Ğ©Ğ•Ğ¡Ğ¢Ğ’Ğ Ğ®Ğ˜ĞšĞ¡ Ğ®ĞĞ™ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ™Â»
                </div>
              </div>
              <span style={{ 
                background: '#32C665', 
                color: 'white', 
                padding: '0px 4px', 
                borderRadius: '6px', 
                fontSize: '12px',
                fontWeight: '500',
              }}>ĞšĞ»Ğ¸ĞµĞ½Ñ‚</span>
            </div>
            
            <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                <span style={{ fontSize: '13px', color: '#9CA3AF' }}>ĞŸÑ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ĞµĞ»ÑŒ</span>
                <span style={{ 
                  background: '#33B1FF', 
                  color: 'white', 
                  padding: '0px 4px', 
                  borderRadius: '6px', 
                  fontSize: '12px',
                  fontWeight: '500',
                }}>Ğ•Ğ˜Ğ</span>
              </div>
              <div style={{ fontWeight: '500', color: '#111827', lineHeight: 1.4 }}>
                ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸Ğ½Ğ¾Ğ¿Ğ¾Ğ»ÑŒÑĞºĞ¸Ğ¹ ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸Ğ½ ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ğ¸Ğ½Ğ¾Ğ²Ğ¸Ñ‡
              </div>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>
                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
                  <span 
                    style={{ 
                      color: '#22C55E', 
                      fontSize: '16px',
                      cursor: 'pointer',
                      display: 'inline-flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      width: '24px',
                      height: '24px',
                      flexShrink: 0,
                    }}
                    onClick={() => openUploadModal(null, null, 'client-icon', null, 'phone-check')}
                  >
                    {uploadedClientIcons['phone-check'] ? (
                      <span 
                        style={{ width: '24px', height: '24px', display: 'inline-flex', alignItems: 'center', justifyContent: 'center' }}
                        dangerouslySetInnerHTML={{ __html: uploadedClientIcons['phone-check'] }}
                      />
                    ) : (
                      'âœ“'
                    )}
                  </span>
                  <span style={{ fontSize: '14px', color: '#374151' }}>+7 (912) 123-12-34</span>
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" strokeWidth="2" style={{ marginLeft: 'auto' }}>
                    <polyline points="6,9 12,15 18,9"/>
                  </svg>
                </div>
                <div style={{ display: 'flex', alignItems: 'center', gap: '10px' }}>
                  <span 
                    style={{ 
                      color: '#25D366', 
                      fontSize: '16px',
                      cursor: 'pointer',
                      display: 'inline-flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                      width: '24px',
                      height: '24px',
                      flexShrink: 0,
                    }}
                    onClick={() => openUploadModal(null, null, 'client-icon', null, 'phone-number')}
                  >
                    {uploadedClientIcons['phone-number'] ? (
                      <span 
                        style={{ width: '24px', height: '24px', display: 'inline-flex', alignItems: 'center', justifyContent: 'center' }}
                        dangerouslySetInnerHTML={{ __html: uploadedClientIcons['phone-number'] }}
                      />
                    ) : (
                      'ğŸ“±'
                    )}
                  </span>
                  <span style={{ fontSize: '14px', color: '#374151' }}>44 55 873644</span>
                </div>
              </div>
            </div>

            <button 
              style={{
                width: '100%',
                height: '40px',
                padding: '0 12px',
                background: '#EDF5FF',
                border: 'none',
                cursor: 'pointer',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                gap: '8px',
                color: '#2563EB',
                fontWeight: '500',
                fontSize: '14px',
                borderRadius: '8px',
                transition: 'background 0.15s',
              }}
              onMouseEnter={(e) => e.currentTarget.style.background = '#DDE9FF'}
              onMouseLeave={(e) => e.currentTarget.style.background = '#EDF5FF'}
            >
              <span style={{ fontSize: '18px' }}>+</span>
              Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ»Ğ¸Ğ´
            </button>
          </div>

          {/* Leads Section */}
          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', paddingBottom: '16px', marginBottom: '16px' }}>
              <div style={{ display: 'flex', alignItems: 'center' }}>
                <span style={{ fontWeight: '600', color: '#111827' }}>Ğ›Ğ¸Ğ´Ñ‹</span>
                <span style={{ 
                  background: '#EF4444', 
                  color: 'white', 
                  borderRadius: '50%', 
                  padding: '2px 6px', 
                  fontSize: '11px',
                  fontWeight: '500',
                  marginLeft: '8px',
                  minWidth: '20px',
                  height: '20px',
                  display: 'inline-flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                }}>4</span>
                <span 
                  style={{ marginLeft: 'auto', color: '#2563EB', fontSize: '13px', cursor: 'pointer', fontWeight: '500', transition: 'color 0.15s' }}
                  onMouseEnter={(e) => e.currentTarget.style.color = '#0046E2'}
                  onMouseLeave={(e) => e.currentTarget.style.color = '#2563EB'}
                >ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ</span>
              </div>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                {[
                  { text: 'Ğ ĞšĞ' },
                  { text: 'Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»ĞµĞ¹: ĞœĞ¾Ğ¹...' },
                ].map((item, i) => (
                  <div key={i} style={{ 
                    display: 'flex', 
                    alignItems: 'center',
                  }}>
                    <div style={{ 
                      width: '40px', 
                      height: '40px', 
                      background: '#EBE0FF', 
                      borderRadius: '50%', 
                      display: 'flex', 
                      alignItems: 'center', 
                      justifyContent: 'center',
                      marginRight: '12px',
                      color: '#8A3FFC',
                    }}>
                      <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
                        <path d="M15.8189 18.6967L20.5238 13.9918C21.0315 13.4841 21.0315 12.661 20.5238 12.1533L18.4858 10.1153C17.9781 9.60764 17.155 9.60764 16.6473 10.1153L12.1413 14.6214C11.364 15.3987 10.1037 15.3987 9.3264 14.6214C8.54909 13.8441 8.5491 12.5838 9.3264 11.8065L13.8325 7.30045C14.3401 6.79277 14.3401 5.96965 13.8325 5.46197L11.7557 3.38522C11.248 2.87754 10.4249 2.87754 9.91724 3.38522L5.21233 8.09012C2.28339 11.019 2.28339 15.7678 5.21232 18.6967C8.14125 21.6256 12.89 21.6256 15.8189 18.6967ZM17.1383 15.5389L14.8997 17.7775C12.4784 20.1987 8.5528 20.1987 6.13156 17.7775C3.71031 15.3562 3.71031 11.4306 6.13157 9.00936L8.37017 6.77076L10.4469 8.84751L8.40717 10.8873C7.12218 12.1722 7.12217 14.2556 8.40716 15.5406C9.69214 16.8256 11.7755 16.8256 13.0605 15.5406L15.1003 13.5009L17.1383 15.5389ZM11.3662 7.92827L9.28941 5.85152L10.8365 4.30446L12.9132 6.38121L11.3662 7.92827ZM18.0575 14.6196L19.6046 13.0726L17.5666 11.0346L16.0195 12.5816L18.0575 14.6196Z" fill="currentColor" fillRule="evenodd" />
                      </svg>
                    </div>
                    <span style={{ flex: 1, fontSize: '14px', color: '#374151', fontWeight: '400' }}>{item.text}</span>
                    <span style={{ 
                      background: '#32C665', 
                      color: 'white', 
                      padding: '0px 4px', 
                      borderRadius: '6px', 
                      fontSize: '12px',
                      fontWeight: '500',
                    }}>ĞœĞ¾Ğ¹</span>
                  </div>
                ))}
              </div>
            </div>

          {/* Offers Section */}
          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px', paddingBottom: '16px', marginBottom: '16px' }}>
              <div style={{ fontWeight: '600', color: '#111827' }}>ĞŸÑ€ĞµĞ´Ğ»Ğ¾Ğ¶Ğ¸Ñ‚Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñƒ</div>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                {[
                  { title: 'Ğ¡Ğ¾Ğ¿Ñ€Ğ¾Ğ²Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ğ° Ğ’Ğ­Ğ”' },
                  { title: 'Ğ¡ĞºĞ¸Ğ´ĞºĞ° Ğ½Ğ° Ğ¿Ğ°ĞºĞµÑ‚ Â«Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ğ¾Ğ±Ğ¾Ñ€Ğ¾Ñ‚Ñ‹Â»' },
                ].map((offer, i) => (
                  <div key={i} style={{ 
                    display: 'flex', 
                    alignItems: 'center',
                    gap: '12px',
                  }}>
                    <div style={{ 
                      width: '40px', 
                      height: '40px', 
                      background: '#C4EAFF', 
                      borderRadius: '50%', 
                      display: 'flex', 
                      alignItems: 'center', 
                      justifyContent: 'center',
                      flexShrink: 0,
                      color: '#1192E8',
                    }}>
                      <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
                        <path d="M21.7338 13.3846C23.2032 12.017 23.2924 9.71948 21.9335 8.24199L18.4714 4.47774C17.133 3.02254 14.8793 2.89753 13.3881 4.19579L11.9572 5.44163L10.6533 4.27933C9.14888 2.93835 6.84235 3.07038 5.5008 4.57427L2.02881 8.46642C0.686905 9.97071 0.818549 12.278 2.32284 13.6199L9.66053 20.1655C11.0716 21.4242 13.2103 21.3969 14.5887 20.1026L21.317 13.7848L21.3103 13.7788L21.7338 13.3846ZM8.78308 8.20518L10.9689 6.30213L9.78826 5.24977C8.81967 4.38639 7.33464 4.4714 6.4709 5.43966L2.99892 9.3318C2.13495 10.3003 2.21971 11.7858 3.18823 12.6498L4.72451 14.0203C6.06901 12.9844 7.99774 13.0002 9.3315 14.149L11.5598 16.0682C12.6162 16.9781 13.0459 18.3915 12.7224 19.7054C13.0773 19.6066 13.4134 19.4229 13.6989 19.1549L17.8588 15.2487L13.9151 11.3372C13.6786 11.1026 13.3031 11.0848 13.0455 11.2958L12.069 12.0957C11.0678 12.9159 9.6106 12.8546 8.6818 11.9533C7.61199 10.9151 7.65876 9.18407 8.78308 8.20518ZM11.3705 19.6792C11.7257 18.7591 11.4685 17.7053 10.7114 17.0532L8.4831 15.134C7.69007 14.4509 6.57034 14.39 5.72188 14.91L10.5259 19.1954C10.7781 19.4204 11.0665 19.5816 11.3705 19.6792ZM20.9767 9.12203C21.8516 10.0733 21.7941 11.5525 20.8481 12.433L18.7938 14.3451L14.8306 10.4142C14.1212 9.71052 12.9946 9.65698 12.2217 10.2902L11.2452 11.0901C10.7551 11.4916 10.0418 11.4616 9.58714 11.0203C9.06346 10.5122 9.08636 9.66481 9.63672 9.18564L14.2418 5.17625C15.2018 4.34038 16.6529 4.42087 17.5146 5.35778L20.9767 9.12203Z" fill="currentColor" fillRule="evenodd" />
                      </svg>
                    </div>
                    <div style={{ fontWeight: '400', fontSize: '14px', color: '#111827' }}>{offer.title}</div>
                  </div>
                ))}
              </div>
            </div>

          {/* Tasks Section */}
          <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
              <div style={{ display: 'flex', alignItems: 'center' }}>
                <span style={{ fontWeight: '600', color: '#111827' }}>Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸</span>
                <span style={{ 
                  background: '#EF4444', 
                  color: 'white', 
                  borderRadius: '50%', 
                  padding: '2px 6px', 
                  fontSize: '11px',
                  fontWeight: '500',
                  marginLeft: '8px',
                  minWidth: '20px',
                  height: '20px',
                  display: 'inline-flex',
                  alignItems: 'center',
                  justifyContent: 'center',
                }}>8</span>
                <span 
                  style={{ marginLeft: 'auto', color: '#2563EB', fontSize: '13px', cursor: 'pointer', fontWeight: '500', transition: 'color 0.15s' }}
                  onMouseEnter={(e) => e.currentTarget.style.color = '#0046E2'}
                  onMouseLeave={(e) => e.currentTarget.style.color = '#2563EB'}
                >ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ</span>
              </div>
              <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
                {[
                  { text: 'Ğ Ğ°ÑĞ¿ĞµÑ‡Ğ°Ñ‚Ğ°Ñ‚ÑŒ Ñ‚Ğ¸Ñ‚ÑƒĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ğ¸ÑÑ‚', badge: 'ĞĞ¾Ğ²Ğ°Ñ', badgeColor: '#32C665', textColor: 'white' },
                  { text: 'ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞ²ĞµĞ´ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ Ğ¡Ğ®Ğ›', badge: 'Ğ’ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ', badgeColor: '#33B1FF', textColor: 'white' },
                ].map((task, i) => (
                  <div key={i} style={{ 
                    display: 'flex', 
                    alignItems: 'center',
                  }}>
                    <div style={{ 
                      width: '40px', 
                      height: '40px', 
                      background: '#FEF5D7', 
                      borderRadius: '50%', 
                      display: 'flex', 
                      alignItems: 'center', 
                      justifyContent: 'center',
                      marginRight: '12px',
                      color: '#FF8D64',
                    }}>
                      <svg viewBox="0 0 24 24" width="24" height="24" fill="none">
                        <path d="M21.0187 8.17489C21.0187 8.49989 20.8092 8.82489 20.39 8.82489L19 8.82489L19 15.1999L20.39 15.1999C20.749 15.1999 21.04 15.491 21.04 15.8499C21.04 16.2089 20.749 16.4999 20.39 16.4999L19 16.4999L19 17.9999C19 19.6499 17.66 20.9999 16 20.9999L7 20.9999C5.34 20.9999 4 19.6599 4 17.9999L4 6.03491C4 4.37491 5.34 3.03491 7 3.03491L16 3.03491C17.66 3.03491 19 4.37491 19 6.03491L19 7.52489L20.39 7.52489C20.8092 7.52489 21.0187 7.84989 21.0187 8.17489ZM17.7 6.03491C17.7 5.09491 16.94 4.33491 16 4.33491L7 4.33491C6.06 4.33491 5.3 5.09491 5.3 6.03491L5.3 17.9999C5.3 18.9399 6.06 19.6999 7 19.6999L16 19.6999C16.94 19.6999 17.7 18.9399 17.7 17.9999L17.7 6.03491ZM9.5 8.22675C9.5 8.77903 9.05228 9.22675 8.5 9.22675C7.94772 9.22675 7.5 8.77903 7.5 8.22675C7.5 7.67446 7.94772 7.22675 8.5 7.22675C9.05228 7.22675 9.5 7.67446 9.5 8.22675ZM15.37 8.22682C15.37 8.58581 15.079 8.87682 14.72 8.87682L11.5 8.87682C11.141 8.87682 10.85 8.58581 10.85 8.22682C10.85 7.86784 11.141 7.57682 11.5 7.57682L14.72 7.57682C15.079 7.57682 15.37 7.86784 15.37 8.22682ZM9.52585 11.9999C9.52585 12.5522 9.07814 12.9999 8.52585 12.9999C7.97357 12.9999 7.52585 12.5522 7.52585 11.9999C7.52585 11.4477 7.97357 10.9999 8.52585 10.9999C9.07814 10.9999 9.52585 11.4477 9.52585 11.9999ZM15.3809 11.9999C15.3809 12.3589 15.0898 12.6499 14.7309 12.6499L11.5109 12.6499C11.1519 12.6499 10.8609 12.3589 10.8609 11.9999C10.8609 11.641 11.1519 11.3499 11.5109 11.3499L14.7309 11.3499C15.0898 11.3499 15.3809 11.641 15.3809 11.9999ZM8.52585 16.8025C7.97357 16.8025 7.52585 16.3547 7.52585 15.8025C7.52585 15.2502 7.97357 14.8025 8.52585 14.8025C9.07814 14.8025 9.52585 15.2502 9.52585 15.8025C9.52585 16.3547 9.07814 16.8025 8.52585 16.8025ZM15.37 15.8293C15.37 16.1883 15.079 16.4793 14.72 16.4793L11.5 16.4793C11.141 16.4793 10.85 16.1883 10.85 15.8293C10.85 15.4703 11.141 15.1793 11.5 15.1793L14.72 15.1793C15.079 15.1793 15.37 15.4703 15.37 15.8293Z" fill="currentColor" fillRule="evenodd" />
                      </svg>
                    </div>
                    <span style={{ flex: 1, fontSize: '14px', color: '#374151', fontWeight: '400' }}>{task.text}</span>
                    <span style={{ 
                      background: task.badgeColor, 
                      color: task.textColor, 
                      padding: '0px 4px', 
                      borderRadius: '6px', 
                      fontSize: '12px',
                      fontWeight: '500',
                    }}>{task.badge}</span>
                  </div>
                ))}
              </div>
          </div>
        </aside>
        )}

        {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
            MAIN CONTENT AREA - Ğ±ĞµĞ»Ñ‹Ğ¹ Ğ¿Ñ€ÑĞ¼Ğ¾ÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸Ğº ÑĞ¾ ÑĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸ÑĞ¼Ğ¸
            ĞœĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¾Ğ² Ğ’ĞĞ£Ğ¢Ğ Ğ˜ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ°
            â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
        <main style={{
          position: 'fixed',
          top: '80px',
          left: '96px',
          right: (currentApp === 'showcase' || currentApp === 'client-card') ? '396px' : '24px', // Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ¸, Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ, Ğ¿Ğ¾Ğ¸ÑĞº ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° â€” Ğ±ĞµĞ· ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€Ğ°
          bottom: '72px',
          background: '#FFFFFF',
          borderRadius: '16px',
          display: 'flex',
          overflow: 'hidden',
          boxShadow: '0 1px 3px rgba(0,0,0,0.08)',
          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
        }}>
          
          {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
              SCROLLABLE: Navigation Menu - Ğ’ĞĞ£Ğ¢Ğ Ğ˜ Ğ±ĞµĞ»Ğ¾Ğ³Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ°
              (Ğ´Ğ»Ñ ĞšĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ° Ğ¼ĞµĞ½Ñ Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰ĞµĞ½Ğ¾ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ±Ğ»Ğ¾ĞºĞ° Ğ¿Ğ¾Ğ´ Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸)
              â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
          {currentApp !== 'client-card' && currentApp !== 'client-search' && (
            <div style={{
              width: '256px',
              flexShrink: 0,
              display: 'flex',
              flexDirection: 'column',
              minHeight: 0,
              fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
            }}>
              {currentApp === 'tasks' ? (
                <>
                  <div className="ios-scroll" style={{
                    flex: 1,
                    minHeight: 0,
                    overflowY: 'auto',
                    padding: '24px 16px 16px',
                    paddingBottom: '8px',
                  }}>
                    {tasksNavMenuItems.filter((item) => !item.settingsIcon).map((item, idx) => {
                      const isActive = !!item.active;
                      return (
                        <div
                          key={idx}
                          className="menu-item"
                          style={{
                            display: 'flex',
                            alignItems: 'center',
                            gap: '12px',
                            padding: '0 16px',
                            height: '32px',
                            borderRadius: '8px',
                            cursor: 'pointer',
                            background: isActive ? '#F3F4F6' : 'transparent',
                            color: isActive ? '#2563EB' : '#4F525A',
                            fontWeight: '400',
                            fontSize: '14px',
                            lineHeight: '20px',
                            transition: 'background 0.15s',
                            marginBottom: '4px',
                            fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                          }}
                        >
                          <span style={{ flex: 1 }}>{item.label}</span>
                        </div>
                      );
                    })}
                  </div>
                  <div style={{
                    flexShrink: 0,
                    padding: '8px 16px 24px',
                    background: '#FFFFFF',
                  }}>
                    <div
                      className="menu-item"
                      style={{
                        display: 'flex',
                        alignItems: 'center',
                        gap: '12px',
                        padding: '0 16px',
                        height: '32px',
                        borderRadius: '8px',
                        cursor: 'pointer',
                        background: 'transparent',
                        color: '#4F525A',
                        fontWeight: '400',
                        fontSize: '14px',
                        lineHeight: '20px',
                        transition: 'background 0.15s',
                        fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                      }}
                    >
                      <span style={{ width: '24px', height: '24px', display: 'inline-flex', alignItems: 'center', justifyContent: 'center', flexShrink: 0 }}>
                        <SettingsOutlineIcon color="#4F525A" />
                      </span>
                      <span style={{ flex: 1 }}>ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸</span>
                    </div>
                  </div>
                </>
              ) : (
                <div className="ios-scroll" style={{
                  flex: 1,
                  minHeight: 0,
                  overflowY: 'auto',
                  padding: '24px 16px',
                  fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                }}>
                  {(currentApp === 'home' ? homeNavMenuItems : navMenuItems).map((item, idx) => {
                    if (item.divider) {
                      return null;
                    }
                    const isActive = currentApp === 'home' && item.section
                      ? homeSection === item.section
                      : !!item.active;
                    const menuItemsWithCounters = ['Ğ¡Ñ‡ĞµÑ‚Ğ°', 'Ğ ĞšĞ', 'ĞĞµĞ±Ğ°Ğ½ĞºĞ¾Ğ²ÑĞºĞ¸Ğµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹', 'Ğ”ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ñ‹ Ğ¸ Ğ¾ÑÑ‚Ğ°Ñ‚ĞºĞ¸', 'ĞšÑ€ĞµĞ´Ğ¸Ñ‚Ñ‹', 'Ğ’Ğ­Ğ”'];
                    const showMenuCounter = currentApp === 'showcase' && showCounters && menuItemsWithCounters.includes(item.label);
                    return (
                      <div
                        key={idx}
                        className="menu-item"
                        onClick={currentApp === 'home' && item.section ? () => setHomeSection(item.section) : undefined}
                        style={{
                          display: 'flex',
                          alignItems: 'center',
                          gap: '12px',
                          padding: '0 16px',
                          height: '32px',
                          borderRadius: '8px',
                          cursor: 'pointer',
                          background: isActive ? '#F3F4F6' : 'transparent',
                          color: isActive ? '#2563EB' : '#4F525A',
                          fontWeight: '400',
                          fontSize: '14px',
                          lineHeight: '20px',
                          transition: 'background 0.15s',
                          marginBottom: '4px',
                          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                          position: 'relative',
                        }}
                      >
                        {item.icon && (
                          <span 
                            style={{ 
                              color: isActive ? '#2563EB' : '#9CA3AF', 
                              fontSize: '16px',
                              cursor: 'pointer',
                              display: 'inline-flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              width: '24px',
                              height: '24px',
                              flexShrink: 0,
                            }}
                            onClick={(e) => {
                              e.stopPropagation();
                              const menuItemId = getMenuItemId(item);
                              openUploadModal(null, null, 'menu-icon', menuItemId, null);
                            }}
                          >
                            {uploadedMenuIcons[getMenuItemId(item)] ? (
                              <span 
                                style={{ width: '24px', height: '24px', display: 'inline-flex', alignItems: 'center', justifyContent: 'center' }}
                                dangerouslySetInnerHTML={{ __html: uploadedMenuIcons[getMenuItemId(item)] }}
                              />
                            ) : (
                              item.icon
                            )}
                          </span>
                        )}
                        <span style={{ flex: 1 }}>{item.label}</span>
                        {showMenuCounter && (
                          <span style={{
                            width: '16px',
                            height: '16px',
                            background: '#EF4444',
                            borderRadius: '50%',
                            fontSize: '10px',
                            color: 'white',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            fontWeight: '500',
                            flexShrink: 0,
                          }}>5</span>
                        )}
                      </div>
                    );
                  })}
                </div>
              )}
            </div>
          )}

          {/* Content Area */}
          <div style={{ flex: 1, display: 'flex', flexDirection: 'column', overflow: 'hidden' }}>
            {currentApp === 'home' ? (
              <HomePage homeSection={homeSection} />
            ) : currentApp === 'tasks' ? (
              selectedTask ? (
                /* Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸: Ğ½Ğ°Ğ·Ğ°Ğ´, Ğ´Ğ²Ğµ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ â€” ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ + ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€ */
                <div className="ios-scroll" style={{ flex: 1, overflowY: 'auto', padding: '24px', minHeight: 0 }}>
                  <a
                    href="#"
                    onClick={(e) => { e.preventDefault(); setSelectedTask(null); }}
                    style={{ fontSize: '14px', color: '#2563EB', textDecoration: 'none', marginBottom: '16px', display: 'inline-block', fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif" }}
                  >
                    &lt; Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ
                  </a>
                  <div style={{ display: 'flex', gap: '24px', alignItems: 'flex-start' }}>
                    {/* Ğ›ĞµĞ²Ğ°Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° â€” ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ */}
                    <div style={{ flex: 1, minWidth: 0 }}>
                      <h2 style={{ fontSize: '24px', fontWeight: '600', color: '#111827', marginBottom: '12px', fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif" }}>
                        {selectedTask.name}
                      </h2>
                      <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap', marginBottom: '16px' }}>
                        <span style={{
                          display: 'inline-block',
                          padding: '4px 10px',
                          borderRadius: '4px',
                          fontSize: '12px',
                          fontWeight: 400,
                          background: (() => { const s = { 'ĞĞ¾Ğ²Ğ°Ñ': '#E5F5EC', 'Ğ’ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ': '#E5F0FF', 'ĞĞ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ': '#FEF5D7', 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°': '#D1FAE5', 'ĞÑ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°': '#FFE5E5' }[selectedTask.status] || '#F3F4F6'; return s; })(),
                          color: (() => { const s = { 'ĞĞ¾Ğ²Ğ°Ñ': '#0F766E', 'Ğ’ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ': '#1D4ED8', 'ĞĞ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞµ': '#B45309', 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°': '#047857', 'ĞÑ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°': '#B91C1C' }[selectedTask.status] || '#4F525A'; return s; })(),
                        }}>
                          {selectedTask.status}
                        </span>
                        <span style={{
                          display: 'inline-block',
                          padding: '4px 10px',
                          borderRadius: '4px',
                          fontSize: '12px',
                          fontWeight: 400,
                          background: '#F3F4F6',
                          color: '#4F525A',
                        }}>
                          {selectedTask.type}
                        </span>
                      </div>
                      <div className="task-detail-description" style={{ fontSize: '14px', color: '#4F525A', lineHeight: '20px', marginBottom: '24px', fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif" }}>
                        ĞšĞ¾Ğ»Ğ»ĞµĞ³Ğ¸, Ğ´Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ! Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑĞºĞµ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾Ğ¹ Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²Ğ¾Ğ¹ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ Ğ£Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ: Ğ¿Ğ°ĞºĞµÑ‚ ÑƒÑĞ»ÑƒĞ³ Â«ĞĞ° ÑÑ‚Ğ°Ñ€Ñ‚ĞµÂ». Ğ¦ĞµĞ»ÑŒ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸: ÑƒĞ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ğ¼ÑÑ ĞŸĞ£ Â«ĞĞ° Ğ’ÑĞµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾Â» Ğ² Ğ‘Ğ°Ğ½ĞºĞµ Ğ¸ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ¸Ñ… Ğ½Ğ° Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¿Ğ°ĞºĞµÑ‚Ñ‹ Ğ¿Ğ¾ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ¾Ğ¼ Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ°ĞºÑ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğ¹ Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ§ĞĞ”. Ğ¡ĞµĞ³Ğ¼ĞµĞ½Ñ‚ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸: ÑĞ¾ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ¸Ğ· Ğ´ĞµĞ¹ÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ğ‘Ğ°Ğ½ĞºĞ° Ğ’Ğ¢Ğ‘, Ñƒ ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ² Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¼ Ğ¼ĞµÑÑÑ†Ğµ Ğ·Ğ°ĞºĞ°Ğ½Ñ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ ĞŸĞ£ Â«ĞĞ° Ğ’ÑĞµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¾Â». Ğ¢Ğ Ğœ: ĞšĞœ Ğ’Ğ¡, ĞšĞœ Ğ¡Ğ¢Ğ¡, ĞœĞĞš.
                      </div>
                      <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap', marginBottom: '24px' }}>
                        <button
                          type="button"
                          style={{
                            background: '#2563EB',
                            color: 'white',
                            border: 'none',
                            borderRadius: '8px',
                            padding: '10px 16px',
                            fontWeight: '500',
                            cursor: 'pointer',
                            fontSize: '14px',
                            transition: 'background 0.15s',
                          }}
                          onMouseEnter={(e) => { e.currentTarget.style.background = '#0046E2'; }}
                          onMouseLeave={(e) => { e.currentTarget.style.background = '#2563EB'; }}
                        >
                          Ğ’ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ
                        </button>
                        <button
                          type="button"
                          style={{
                            padding: '0 16px',
                            background: '#EDF5FF',
                            border: 'none',
                            cursor: 'pointer',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            color: '#2563EB',
                            fontWeight: '500',
                            fontSize: '14px',
                            borderRadius: '8px',
                            transition: 'background 0.15s',
                            height: '40px',
                          }}
                          onMouseEnter={(e) => { e.currentTarget.style.background = '#DDE9FF'; }}
                          onMouseLeave={(e) => { e.currentTarget.style.background = '#EDF5FF'; }}
                        >
                          Ğ”ĞµĞ»ĞµĞ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ
                        </button>
                        <button
                          type="button"
                          style={{
                            padding: '0 16px',
                            background: '#EDF5FF',
                            border: 'none',
                            cursor: 'pointer',
                            display: 'flex',
                            alignItems: 'center',
                            justifyContent: 'center',
                            color: '#2563EB',
                            fontWeight: '500',
                            fontSize: '14px',
                            borderRadius: '8px',
                            transition: 'background 0.15s',
                            height: '40px',
                          }}
                          onMouseEnter={(e) => { e.currentTarget.style.background = '#DDE9FF'; }}
                          onMouseLeave={(e) => { e.currentTarget.style.background = '#EDF5FF'; }}
                        >
                          Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ
                        </button>
                      </div>
                      <div style={{ marginBottom: '24px', padding: '12px 16px', background: '#FFFFFF', border: '1px solid #E5E7EB', borderRadius: '8px', display: 'inline-flex', alignItems: 'center', gap: '12px', width: 'fit-content' }}>
                        <span style={{ width: '32px', height: '32px', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#10B981', borderRadius: '4px' }}>
                          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" strokeWidth="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                        </span>
                        <div>
                          <div style={{ fontSize: '14px', fontWeight: '500', color: '#111827' }}>Ğ‘Ğ°Ğ·Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²</div>
                          <div style={{ fontSize: '12px', color: '#6B7280' }}>XLS â€¢ 1,5 MB</div>
                        </div>
                      </div>
                      <div style={{ borderBottom: '1px solid #D5D8DE' }}>
                        {['ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸', 'Ğ¤Ğ°Ğ¹Ğ»Ñ‹', 'Ğ¡Ğ²ÑĞ·ÑŒ', 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ'].map((label, idx) => (
                          <button
                            key={label}
                            type="button"
                            onClick={() => setTaskDetailTab(idx)}
                            style={{
                              padding: '12px 16px',
                              border: 'none',
                              background: 'transparent',
                              cursor: 'pointer',
                              fontSize: '14px',
                              fontWeight: 400,
                              color: taskDetailTab === idx ? '#2563EB' : '#6B7280',
                              borderBottom: taskDetailTab === idx ? '2px solid #2563EB' : '2px solid transparent',
                              marginBottom: '-1px',
                              transition: 'color 0.15s',
                            }}
                          >
                            {label}
                          </button>
                        ))}
                      </div>
                      {taskDetailTab === 0 && (
                        <div style={{ paddingTop: '16px', fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif" }}>
                          <div style={{ fontSize: '13px', color: '#6B7280', marginBottom: '12px' }}>21 Ğ¯Ğ½Ğ²Ğ°Ñ€Ñ</div>
                          <div style={{ display: 'flex', gap: '12px', marginBottom: '16px' }}>
                            <div style={{ width: '40px', height: '40px', borderRadius: '50%', background: '#E5E7EB', flexShrink: 0 }} />
                            <div style={{ flex: 1, minWidth: 0 }}>
                              <div style={{ fontSize: '14px', fontWeight: '500', color: '#111827' }}>ĞœĞ¸Ñ…Ğ°Ğ¹Ğ»Ğ¾Ğ² ĞĞ»ĞµĞºÑĞµĞ¹ Ğ®Ñ€ÑŒĞµĞ²Ğ¸Ñ‡</div>
                              <div style={{ fontSize: '12px', color: '#6B7280', marginBottom: '4px' }}>Ğ—Ğ°Ğ¼ĞµÑÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰ĞµĞ³Ğ¾ Ğ ĞĞ Ğ‘Ğ“</div>
                              <div style={{ fontSize: '14px', color: '#374151' }}>ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ</div>
                              <div style={{ fontSize: '12px', color: '#9CA3AF', marginTop: '4px' }}>11:46</div>
                            </div>
                          </div>
                          <div style={{ display: 'flex', gap: '12px', marginBottom: '16px' }}>
                            <div style={{ width: '40px', height: '40px', borderRadius: '50%', background: '#DBEAFE', flexShrink: 0 }} />
                            <div style={{ flex: 1, minWidth: 0 }}>
                              <div style={{ fontSize: '14px', fontWeight: '500', color: '#111827' }}>Ğ—Ğ°Ğ¹Ñ†ĞµĞ²Ğ° Ğ•Ğ»ĞµĞ½Ğ° ĞœĞ¸Ñ…Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°</div>
                              <div style={{ fontSize: '12px', color: '#6B7280', marginBottom: '4px' }}>Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ğ ĞĞ Ğ‘Ğ“</div>
                              <div style={{ fontSize: '14px', color: '#374151' }}>Ğ’Ğ·ÑĞ»Ğ° Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ!</div>
                              <div style={{ fontSize: '12px', color: '#9CA3AF', marginTop: '4px' }}>12:15</div>
                            </div>
                          </div>
                        </div>
                      )}
                    </div>
                    {/* ĞŸÑ€Ğ°Ğ²Ğ°Ñ ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ° â€” ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€ */}
                    <div style={{ width: '356px', flexShrink: 0, display: 'flex', flexDirection: 'column', gap: '16px' }}>
                      <div style={{ padding: '16px', background: '#FFFFFF', border: '1px solid #E5E7EB', borderRadius: '16px' }}>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '12px' }}>Ğ”Ğ°Ñ‚Ñ‹</div>
                        <div style={{ fontSize: '14px', color: '#666', marginBottom: '4px' }}>Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ:</div>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '12px' }}>ĞŸÑ‚, 29 Ğ¼Ğ°Ñ€Ñ‚Ğ° 2022</div>
                        <div style={{ fontSize: '14px', color: '#666', marginBottom: '4px' }}>Ğ¡Ñ€Ğ¾Ğº Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ:</div>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333' }}>ĞŸĞ½, 13 Ğ°Ğ¿Ñ€ĞµĞ»Ñ 2022</div>
                      </div>
                      <div style={{ padding: '16px', background: '#FFFFFF', border: '1px solid #E5E7EB', borderRadius: '16px' }}>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '12px' }}>Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº</div>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333' }}>ĞŸĞ»Ğ°Ğ½Ğ¾Ğ²Ğ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ²ĞµĞ´ĞµĞ½Ğ¸Ğ¹</div>
                      </div>
                      <div style={{ padding: '16px', background: '#FFFFFF', border: '1px solid #E5E7EB', borderRadius: '16px' }}>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '12px' }}>ĞšĞ»Ğ¸ĞµĞ½Ñ‚</div>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '4px' }}>{selectedTask.client}</div>
                        <div style={{ fontSize: '13px', color: '#666' }}>Ğ˜ĞĞ 729534766</div>
                      </div>
                      <div style={{ padding: '16px', background: '#FFFFFF', border: '1px solid #E5E7EB', borderRadius: '16px' }}>
                        <div style={{ fontSize: '16px', fontWeight: '600', color: '#333', marginBottom: '12px' }}>Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸</div>
                        <div style={{ marginBottom: '12px' }}>
                          <div style={{ fontSize: '13px', color: '#666', marginBottom: '4px' }}>ĞĞ²Ñ‚Ğ¾Ñ€:</div>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                            <div style={{ width: '32px', height: '32px', borderRadius: '50%', background: '#DBEAFE', flexShrink: 0 }} />
                            <div>
                              <div style={{ fontSize: '14px', fontWeight: '500', color: '#111827' }}>Ğ—Ğ°Ğ¹Ñ†ĞµĞ²Ğ° Ğ•Ğ»ĞµĞ½Ğ° ĞœĞ¸Ñ…Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ°</div>
                              <div style={{ fontSize: '12px', color: '#6B7280' }}>Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰Ğ¸Ğ¹ Ğ ĞĞ Ğ‘Ğ“</div>
                            </div>
                          </div>
                        </div>
                        <div style={{ marginBottom: '12px' }}>
                          <div style={{ fontSize: '13px', color: '#666', marginBottom: '4px' }}>Ğ˜ÑĞ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒ:</div>
                          <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
                            <div style={{ width: '32px', height: '32px', borderRadius: '50%', background: '#E5E7EB', flexShrink: 0 }} />
                            <div>
                              <div style={{ fontSize: '14px', fontWeight: '500', color: '#111827' }}>ĞœĞ¸Ñ…Ğ°Ğ¹Ğ»Ğ¾Ğ² ĞĞ»ĞµĞºÑĞµĞ¹ Ğ®Ñ€ÑŒĞµĞ²Ğ¸Ñ‡</div>
                              <div style={{ fontSize: '12px', color: '#6B7280' }}>Ğ—Ğ°Ğ¼ĞµÑÑ‚Ğ¸Ñ‚ĞµĞ»ÑŒ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‰ĞµĞ³Ğ¾ Ğ ĞĞ Ğ‘Ğ“</div>
                            </div>
                          </div>
                        </div>
                        <a href="#" onClick={(e) => e.preventDefault()} style={{ fontSize: '14px', color: '#2563EB', textDecoration: 'none', display: 'inline-flex', alignItems: 'center', gap: '6px' }}>
                          <span>+</span> Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ±Ğ»ÑĞ´Ğ°Ñ‚ĞµĞ»Ñ
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              ) : (
                <TasksPage onTaskSelect={(task) => { setSelectedTask(task); setTaskDetailTab(0); }} />
              )
            ) : currentApp === 'client-card' ? (
              <ClientCardPage />
            ) : currentApp === 'client-search' ? (
              <ClientSearchPage />
            ) : (
            <>
            {!selectedProduct && (
            <>
            {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                FIXED (sticky): Title + Tabs (Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğ°)
                â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
            <div style={{
              padding: '24px 24px 0',
              flexShrink: 0,
              background: '#FFFFFF',
            }}>
              <h1 style={{ 
                fontSize: '24px', 
                fontWeight: '600', 
                lineHeight: '32px',
                marginBottom: '16px',
                color: '#111827',
                fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
              }}>Ğ ĞšĞ</h1>
              <div 
                ref={tabsContainerRef}
                style={{
                  display: 'flex',
                  borderBottom: '1px solid #D5D8DE',
                  position: 'relative',
                }}
              >
                {tabs.map((tab, idx) => {
                  const isVisible = idx < visibleTabsCount;
                  const showTabCounter = showCounters && idx < 4; // Ğ¡Ñ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¸ Ğ½Ğ° Ğ¿ĞµÑ€Ğ²Ñ‹Ñ… 4 Ñ‚Ğ°Ğ±Ğ°Ñ…
                  
                  return (
                    <button
                      key={idx}
                      ref={el => tabsRefs.current[idx] = el}
                      className="tab-btn"
                      onClick={() => {
                        setActiveTab(idx);
                        setShowMoreMenu(false);
                      }}
                      style={{
                        padding: '12px 16px',
                        border: 'none',
                        background: 'transparent',
                        cursor: 'pointer',
                        fontWeight: '400',
                        whiteSpace: 'nowrap',
                        fontSize: '14px',
                        color: activeTab === idx ? '#2563EB' : '#6B7280',
                        borderBottom: activeTab === idx ? '2px solid #2563EB' : '2px solid transparent',
                        marginBottom: '-1px',
                        transition: 'color 0.15s',
                        visibility: isVisible ? 'visible' : 'hidden',
                        position: isVisible ? 'static' : 'absolute',
                        opacity: isVisible ? 1 : 0,
                        pointerEvents: isVisible ? 'auto' : 'none',
                        display: 'flex',
                        alignItems: 'center',
                        gap: '6px',
                      }}
                    >
                      {tab}
                      {showTabCounter && (
                        <span style={{
                          width: '16px',
                          height: '16px',
                          backgroundColor: '#EF4444',
                          borderRadius: '50%',
                          fontSize: '10px',
                          color: 'white',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                          fontWeight: '500',
                        }}>5</span>
                      )}
                    </button>
                  );
                })}
                
                {/* ĞšĞ½Ğ¾Ğ¿ĞºĞ° "ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ĞµÑ‰Ğµ" ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ ÑĞºÑ€Ñ‹Ñ‚Ñ‹Ğµ Ñ‚Ğ°Ğ±Ñ‹ */}
                {visibleTabsCount < tabs.length && (
                  <div style={{ position: 'relative', marginLeft: 'auto' }} data-show-more-menu>
                    <button
                      onClick={() => setShowMoreMenu(!showMoreMenu)}
                      style={{
                        padding: '12px 16px',
                        border: 'none',
                        background: 'transparent',
                        cursor: 'pointer',
                        fontWeight: '500',
                        whiteSpace: 'nowrap',
                        fontSize: '14px',
                        color: '#2563EB',
                        borderBottom: showMoreMenu ? '2px solid #2563EB' : '2px solid transparent',
                        marginBottom: '-1px',
                        transition: 'color 0.15s',
                      }}
                      onMouseEnter={(e) => e.currentTarget.style.color = '#0046E2'}
                      onMouseLeave={(e) => e.currentTarget.style.color = '#2563EB'}
                    >
                      ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ
                    </button>
                    
                    {/* Ğ’Ñ‹Ğ¿Ğ°Ğ´Ğ°ÑÑ‰ĞµĞµ Ğ¼ĞµĞ½Ñ */}
                    {showMoreMenu && (
                      <div 
                        data-show-more-menu
                        style={{
                          position: 'absolute',
                          top: '100%',
                          right: 0,
                          background: '#FFFFFF',
                          border: '1px solid #E5E7EB',
                          borderRadius: '8px',
                          boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                          zIndex: 1000,
                          minWidth: '200px',
                          marginTop: '4px',
                        }}
                      >
                        {tabs.slice(visibleTabsCount).map((tab, idx) => {
                          const actualIdx = visibleTabsCount + idx;
                          return (
                            <button
                              key={actualIdx}
                              onClick={() => {
                                setActiveTab(actualIdx);
                                setShowMoreMenu(false);
                              }}
                              style={{
                                width: '100%',
                                padding: '12px 16px',
                                border: 'none',
                                background: 'transparent',
                                cursor: 'pointer',
                                fontWeight: '400',
                                textAlign: 'left',
                                fontSize: '14px',
                                color: activeTab === actualIdx ? '#2563EB' : '#374151',
                                borderBottom: idx < tabs.slice(visibleTabsCount).length - 1 ? '1px solid #F3F4F6' : 'none',
                                transition: 'background 0.15s',
                              }}
                              onMouseEnter={(e) => {
                                e.currentTarget.style.background = '#F9FAFB';
                              }}
                              onMouseLeave={(e) => {
                                e.currentTarget.style.background = 'transparent';
                              }}
                            >
                              {tab}
                            </button>
                          );
                        })}
                      </div>
                    )}
                  </div>
                )}
              </div>
            </div>
            </>
            )}

            {/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                SCROLLABLE: Cards Grid Ğ¸Ğ»Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°
                â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */}
            <div className="ios-scroll" style={{
              flex: 1,
              overflowY: 'auto',
              padding: '24px',
            }}>
              {selectedProduct ? (
                /* Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ° Ğ² Ğ’Ğ¸Ñ‚Ñ€Ğ¸Ğ½Ğµ: Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑˆĞ°Ğ¿ĞºĞ° Ğ¸ Ñ‚Ğ°Ğ±Ñ‹, ÑĞºÑ€Ğ¾Ğ»Ğ» Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾Ğ´ Ñ‚Ğ°Ğ±Ğ°Ğ¼Ğ¸ */
                <div style={{ flex: 1, minWidth: 0, display: 'flex', flexDirection: 'column', minHeight: 0, height: '100%', overflow: 'hidden' }}>
                    <div style={{ flexShrink: 0 }}>
                    <a
                      href="#"
                      onClick={(e) => { e.preventDefault(); setSelectedProduct(null); }}
                      style={{ fontSize: '14px', color: '#2563EB', textDecoration: 'none', marginBottom: '16px', display: 'inline-block' }}
                    >
                      &lt; Ğ’ĞµÑ€Ğ½ÑƒÑ‚ÑŒÑÑ
                    </a>
                    <div style={{ display: 'flex', alignItems: 'flex-start', justifyContent: 'space-between', gap: '24px', marginBottom: '24px', flexWrap: 'wrap' }}>
                      <div style={{ flex: 1, minWidth: 0 }}>
                        <div style={{ display: 'flex', alignItems: 'center', gap: '8px', flexWrap: 'wrap', marginBottom: '8px' }}>
                          <h2 style={{ fontSize: '24px', fontWeight: '600', color: '#111827', margin: 0 }}>{selectedProduct.card.title}</h2>
                          {selectedProduct.card.badge && (
                            <span style={{ background: '#EF4444', color: 'white', padding: '2px 6px', borderRadius: '4px', fontSize: '12px', fontWeight: 400 }}>{selectedProduct.card.badge}</span>
                          )}
                        </div>
                        <div style={{ fontSize: '14px', color: '#4F525A', marginBottom: '8px' }}>2000 Ğ  Ğ² Ğ¼ĞµÑ.</div>
                        <div style={{ fontSize: '14px', color: '#9333EA', fontWeight: '600', marginBottom: '16px' }}>+ {selectedProduct.card.bonus}</div>
                        <div style={{ display: 'flex', gap: '12px', flexWrap: 'wrap', alignItems: 'center' }}>
                          <button
                            type="button"
                            style={{
                              background: '#2563EB',
                              color: 'white',
                              border: 'none',
                              borderRadius: '8px',
                              padding: '10px 16px',
                              fontWeight: '500',
                              cursor: 'pointer',
                              fontSize: '13px',
                              transition: 'background 0.15s',
                            }}
                            onMouseEnter={(e) => { e.currentTarget.style.background = '#0046E2'; }}
                            onMouseLeave={(e) => { e.currentTarget.style.background = '#2563EB'; }}
                          >
                            ĞÑ„Ğ¾Ñ€Ğ¼Ğ¸Ñ‚ÑŒ
                          </button>
                          <button
                            type="button"
                            style={{
                              padding: '0 12px',
                              background: '#EDF5FF',
                              border: 'none',
                              cursor: 'pointer',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              gap: '8px',
                              color: '#2563EB',
                              fontWeight: '500',
                              fontSize: '14px',
                              borderRadius: '8px',
                              transition: 'background 0.15s',
                              height: '40px',
                            }}
                            onMouseEnter={(e) => { e.currentTarget.style.background = '#DDE9FF'; }}
                            onMouseLeave={(e) => { e.currentTarget.style.background = '#EDF5FF'; }}
                          >
                            ĞĞ±ÑĞ»ÑƒĞ¶Ğ¸Ñ‚ÑŒ
                          </button>
                        </div>
                      </div>
                      <div style={{ width: '120px', height: '120px', flexShrink: 0, display: 'flex', alignItems: 'center', justifyContent: 'center', overflow: 'hidden' }}>
                        {uploadedImages[getCardId(selectedProduct.card, selectedProduct.idx)] ? (
                          <div style={{ width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center' }} dangerouslySetInnerHTML={{ __html: uploadedImages[getCardId(selectedProduct.card, selectedProduct.idx)] }} />
                        ) : (
                          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" strokeWidth="1.5">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="17 8 12 3 7 8" />
                            <line x1="12" y1="3" x2="12" y2="15" />
                          </svg>
                        )}
                      </div>
                    </div>
                    <div style={{ marginBottom: '16px', position: 'relative' }}>
                      <div
                        ref={productDetailTabsContainerRef}
                        style={{
                          display: 'flex',
                          borderBottom: '1px solid #D5D8DE',
                          position: 'relative',
                        }}
                      >
                        {productDetailTabs.map((tab, idx) => {
                          const label = typeof tab === 'string' ? tab : tab.label;
                          const badge = typeof tab === 'object' ? tab.badge : null;
                          const isVisible = idx < productDetailTabsVisibleCount;
                          return (
                            <button
                              key={label}
                              type="button"
                              ref={el => productDetailTabsRefs.current[idx] = el}
                              onClick={() => {
                                setProductDetailTab(idx);
                                setProductDetailShowMoreMenu(false);
                              }}
                              style={{
                                padding: '12px 16px',
                                border: 'none',
                                background: 'transparent',
                                cursor: 'pointer',
                                fontSize: '14px',
                                fontWeight: 400,
                                whiteSpace: 'nowrap',
                                color: productDetailTab === idx ? '#2563EB' : '#6B7280',
                                borderBottom: productDetailTab === idx ? '2px solid #2563EB' : '2px solid transparent',
                                marginBottom: '-1px',
                                transition: 'color 0.15s',
                                visibility: isVisible ? 'visible' : 'hidden',
                                position: isVisible ? 'static' : 'absolute',
                                opacity: isVisible ? 1 : 0,
                                pointerEvents: isVisible ? 'auto' : 'none',
                                display: 'flex',
                                alignItems: 'center',
                                gap: '6px',
                              }}
                            >
                              {label}
                              {badge != null && <span style={{ background: '#EF4444', color: '#FFF', borderRadius: '10px', padding: '0 6px', fontSize: '11px' }}>{badge}</span>}
                            </button>
                          );
                        })}
                        {productDetailTabsVisibleCount < productDetailTabsFlat.length && (
                          <div style={{ position: 'relative', marginLeft: 'auto' }} data-product-detail-show-more>
                            <button
                              type="button"
                              onClick={() => setProductDetailShowMoreMenu(!productDetailShowMoreMenu)}
                              style={{
                                padding: '12px 16px',
                                border: 'none',
                                background: 'transparent',
                                cursor: 'pointer',
                                fontWeight: '500',
                                whiteSpace: 'nowrap',
                                fontSize: '14px',
                                color: '#2563EB',
                                borderBottom: productDetailShowMoreMenu ? '2px solid #2563EB' : '2px solid transparent',
                                marginBottom: '-1px',
                                transition: 'color 0.15s',
                              }}
                              onMouseEnter={(e) => { e.currentTarget.style.color = '#0046E2'; }}
                              onMouseLeave={(e) => { e.currentTarget.style.color = '#2563EB'; }}
                            >
                              ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ
                            </button>
                            {productDetailShowMoreMenu && (
                              <div
                                data-product-detail-show-more
                                style={{
                                  position: 'absolute',
                                  top: '100%',
                                  right: 0,
                                  background: '#FFFFFF',
                                  border: '1px solid #E5E7EB',
                                  borderRadius: '8px',
                                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                                  zIndex: 1000,
                                  minWidth: '200px',
                                  marginTop: '4px',
                                }}
                              >
                                {productDetailTabs.slice(productDetailTabsVisibleCount).map((tab, idx) => {
                                  const actualIdx = productDetailTabsVisibleCount + idx;
                                  const label = typeof tab === 'string' ? tab : tab.label;
                                  const badge = typeof tab === 'object' ? tab.badge : null;
                                  return (
                                    <button
                                      key={label}
                                      type="button"
                                      onClick={() => {
                                        setProductDetailTab(actualIdx);
                                        setProductDetailShowMoreMenu(false);
                                      }}
                                      style={{
                                        width: '100%',
                                        padding: '12px 16px',
                                        border: 'none',
                                        background: 'transparent',
                                        cursor: 'pointer',
                                        fontWeight: '400',
                                        textAlign: 'left',
                                        fontSize: '14px',
                                        color: productDetailTab === actualIdx ? '#2563EB' : '#374151',
                                        borderBottom: idx < productDetailTabs.slice(productDetailTabsVisibleCount).length - 1 ? '1px solid #F3F4F6' : 'none',
                                        transition: 'background 0.15s',
                                        display: 'flex',
                                        alignItems: 'center',
                                        gap: '6px',
                                      }}
                                      onMouseEnter={(e) => { e.currentTarget.style.background = '#F9FAFB'; }}
                                      onMouseLeave={(e) => { e.currentTarget.style.background = 'transparent'; }}
                                    >
                                      {label}
                                      {badge != null && <span style={{ background: '#EF4444', color: '#FFF', borderRadius: '10px', padding: '0 6px', fontSize: '11px' }}>{badge}</span>}
                                    </button>
                                  );
                                })}
                              </div>
                            )}
                          </div>
                        )}
                      </div>
                    </div>
                    </div>
                    <div className="ios-scroll" style={{ flex: 1, minHeight: 0, overflowY: 'auto' }}>
                    {productDetailTab === 0 && (
                      <div style={{ fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif" }}>
                        {productConditions.map((block, i) => (
                          <div key={i}>
                            {i > 0 && (
                              <div style={{ borderTop: '1px solid #D5D8DE', margin: '0' }} />
                            )}
                            <div style={{ display: 'flex', flexDirection: 'row', gap: '24px', alignItems: 'flex-start', padding: '20px 0', minWidth: 0 }}>
                              <div style={{ fontSize: '16px', fontWeight: 400, color: '#333333', flex: '1 1 50%', minWidth: 0, lineHeight: '24px' }}>{block.title}</div>
                              <div style={{ flex: '1 1 50%', minWidth: 0 }}>
                                {block.items.map((item, j) => (
                                  <div key={j} style={{ marginBottom: j < block.items.length - 1 ? '16px' : 0 }}>
                                    <div style={{ fontSize: '16px', fontWeight: 600, color: '#333333', lineHeight: '24px' }}>{item.value}</div>
                                    {item.detail && (
                                      <div style={{ fontSize: '13px', fontWeight: 400, color: '#666666', lineHeight: '20px', marginTop: '2px' }}>{item.detail}</div>
                                    )}
                                  </div>
                                ))}
                              </div>
                            </div>
                          </div>
                        ))}
                      </div>
                    )}
                    </div>
                </div>
              ) : (
              <div className="cards-grid">
                {(activeTab === 4 ? cards.slice(0, 4) : cards).map((card, idx) => (
                  <div 
                    key={idx} 
                    className="card"
                    onClick={() => setSelectedProduct({ card, idx })}
                    style={{
                      background: '#FFFFFF',
                      borderRadius: '16px',
                      overflow: 'hidden',
                      cursor: 'pointer',
                      transition: 'all 0.2s',
                      border: '1px solid #D5D8DE',
                      display: 'flex',
                      flexDirection: 'column',
                      alignItems: 'flex-start',
                      padding: '16px',
                      gap: '16px',
                    }}
                  >
                    {/* ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€ Ğ¸Ğ»Ğ»ÑÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸ Ğ¼ĞµÑ‚ĞºĞ¸ - Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ²ÑÑ ÑˆĞ¸Ñ€Ğ¸Ğ½Ñƒ */}
                    <div style={{
                      width: '100%',
                      display: 'flex',
                      alignItems: 'flex-start',
                      justifyContent: 'space-between',
                      gap: '12px',
                    }}>
                      {/* Ğ—Ğ¾Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ */}
                      <div style={{
                        width: '82px',
                        height: '82px',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        position: 'relative',
                        cursor: 'pointer',
                        flexShrink: 0,
                      }}
                      onClick={(e) => {
                        e.stopPropagation();
                        const cardId = getCardId(card, idx);
                        openUploadModal(cardId, null, 'image');
                      }}
                      >
                        {/* Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸Ğ»Ğ¸ Ğ¿Ğ»ĞµĞ¹ÑÑ…Ğ¾Ğ»Ğ´ĞµÑ€ */}
                        {uploadedImages[getCardId(card, idx)] ? (
                          <div 
                            className="card-image-container"
                            style={{
                              width: '100%',
                              height: '100%',
                              display: 'flex',
                              alignItems: 'center',
                              justifyContent: 'center',
                              position: 'relative',
                            }}
                            onClick={(e) => {
                              e.stopPropagation();
                              const cardId = getCardId(card, idx);
                              openUploadModal(cardId, null, 'image');
                            }}
                          >
                            <div 
                              style={{
                                width: '100%',
                                height: '100%',
                                display: 'flex',
                                alignItems: 'center',
                                justifyContent: 'center',
                              }}
                              dangerouslySetInnerHTML={{ __html: uploadedImages[getCardId(card, idx)] }}
                            />
                            <div style={{
                              position: 'absolute',
                              bottom: '4px',
                              right: '4px',
                              background: 'rgba(0, 0, 0, 0.6)',
                              color: 'white',
                              padding: '2px 6px',
                              borderRadius: '4px',
                              fontSize: '9px',
                              opacity: 0,
                              transition: 'opacity 0.2s',
                              pointerEvents: 'none',
                            }}
                            className="replace-hint"
                            >
                              Ğ—Ğ°Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ
                            </div>
                          </div>
                        ) : (
                          <div style={{
                            width: '100%',
                            height: '100%',
                            display: 'flex',
                            flexDirection: 'column',
                            alignItems: 'center',
                            justifyContent: 'center',
                            border: '2px dashed #D1D5DB',
                            borderRadius: '8px',
                            background: '#FFFFFF',
                            transition: 'all 0.2s',
                            position: 'relative',
                          }}
                          onMouseEnter={(e) => {
                            e.currentTarget.style.borderColor = '#2563EB';
                            e.currentTarget.style.background = '#F8FAFC';
                          }}
                          onMouseLeave={(e) => {
                            e.currentTarget.style.borderColor = '#D1D5DB';
                            e.currentTarget.style.background = '#FFFFFF';
                          }}
                          >
                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#9CA3AF" strokeWidth="1.5" style={{ marginBottom: '4px' }}>
                              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                              <polyline points="17 8 12 3 7 8" />
                              <line x1="12" y1="3" x2="12" y2="15" />
                            </svg>
                            <span style={{ fontSize: '10px', color: '#9CA3AF', fontWeight: '500' }}>SVG</span>
                          </div>
                        )}
                      </div>
                      
                      {/* Ğ‘ĞµĞ¹Ğ´Ğ¶ "ĞĞ¾Ğ²Ğ¾Ğµ" ÑĞ¿Ñ€Ğ°Ğ²Ğ° Ğ¾Ñ‚ Ğ¸Ğ»Ğ»ÑÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸ */}
                      {card.badge && (
                        <span style={{
                          background: '#EF4444',
                          color: 'white',
                          padding: '0px 4px',
                          borderRadius: '6px',
                          fontSize: '12px',
                          fontWeight: '500',
                          alignSelf: 'flex-start',
                          flexShrink: 0,
                        }}>{card.badge}</span>
                      )}
                    </div>
                    
                    {/* ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ Ğ½Ğ¸Ğ¶Ğµ ĞºĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸ */}
                    <div style={{ 
                      display: 'flex', 
                      flexDirection: 'column', 
                      width: '100%',
                      justifyContent: 'space-between',
                      position: 'relative',
                    }}>
                      <div 
                        style={{ 
                          fontWeight: '600', 
                          marginBottom: 0,
                          fontSize: '16px',
                          lineHeight: '20px',
                          color: '#111827',
                          whiteSpace: 'nowrap',
                          overflow: 'hidden',
                          textOverflow: 'ellipsis',
                          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                        }}
                        title={card.title}
                      >{card.title}</div>
                      <div style={{ 
                        display: 'flex', 
                        justifyContent: 'space-between', 
                        alignItems: 'center',
                        marginTop: 'auto',
                      }}>
                        <span style={{ 
                          color: card.bonusGray ? '#9CA3AF' : '#9333EA', 
                          fontSize: '12px',
                          fontWeight: '700',
                          lineHeight: '15px',
                          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
                        }}>
                          âœ¦ {card.bonus}
                        </span>
                        <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }} onClick={(e) => e.stopPropagation()}>
                          {/* Star Outline - AdmiralDS */}
                          <svg 
                            viewBox="0 0 24 24" 
                            width="24" 
                            height="24" 
                            fill="none"
                            style={{ cursor: 'pointer', transition: 'all 0.2s' }}
                            onMouseEnter={(e) => {
                              e.currentTarget.querySelector('path').style.fill = '#F59E0B';
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.querySelector('path').style.fill = '#23262D';
                            }}
                          >
                            <path d="M11.9999 4.96998L13.9199 8.86998L14.2199 9.47998L14.8999 9.57998L19.1999 10.21L16.0899 13.25L15.5999 13.73L15.7199 14.4L16.4599 18.69L12.6099 16.67L11.9999 16.34L11.3999 16.66L7.54992 18.68L8.28992 14.39L8.40992 13.72L7.91992 13.24L4.80992 10.2L9.10992 9.56998L9.78992 9.46998L10.0899 8.85998L11.9999 4.96998ZM11.9999 2.91998C11.7499 2.91998 11.4999 3.04998 11.3699 3.30998L8.90992 8.29998L3.39992 9.09998C2.82992 9.17998 2.59992 9.88998 3.00992 10.29L6.99992 14.17L6.05992 19.65C5.97992 20.1 6.33992 20.47 6.74992 20.47C6.85992 20.47 6.96992 20.44 7.07992 20.39L11.9999 17.81L16.9199 20.4C17.0299 20.46 17.1399 20.48 17.2499 20.48C17.6599 20.48 18.0199 20.11 17.9399 19.66L16.9999 14.17L20.9799 10.29C21.3999 9.88998 21.1699 9.17998 20.5899 9.09998L15.0799 8.29998L12.6199 3.30998C12.4999 3.04998 12.2499 2.91998 11.9999 2.91998Z" fill="#23262D" fillRule="nonzero" style={{ transition: 'fill 0.2s' }} />
                          </svg>
                          {/* Wiki Outline - AdmiralDS */}
                          <svg 
                            viewBox="0 0 24 24" 
                            width="24" 
                            height="24" 
                            fill="none"
                            style={{ cursor: 'pointer', transition: 'all 0.2s' }}
                            onMouseEnter={(e) => {
                              e.currentTarget.querySelector('path').style.fill = '#2563EB';
                            }}
                            onMouseLeave={(e) => {
                              e.currentTarget.querySelector('path').style.fill = '#23262D';
                            }}
                          >
                            <path d="M12 19.7C16.2526 19.7 19.7 16.2526 19.7 12C19.7 7.74741 16.2526 4.3 12 4.3C7.74741 4.3 4.3 7.74741 4.3 12C4.3 16.2526 7.74741 19.7 12 19.7ZM12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM6.73192 8.74051C7.05655 8.58726 7.44395 8.7262 7.5972 9.05083L10.2539 14.6787L11.2812 12.5026L9.91367 9.60579C9.76042 9.28116 9.89935 8.89376 10.224 8.74051C10.5486 8.58726 10.936 8.7262 11.0893 9.05083L12 10.98L12.9107 9.05083C13.0639 8.7262 13.4513 8.58726 13.776 8.74051C14.1006 8.89376 14.2395 9.28116 14.0863 9.60579L12.7188 12.5026L13.746 14.6787L16.4028 9.05083C16.556 8.7262 16.9434 8.58726 17.268 8.74051C17.5927 8.89376 17.7316 9.28116 17.5784 9.60579L14.3338 16.4788C14.2264 16.7062 13.9975 16.8513 13.746 16.8513C13.4945 16.8513 13.2656 16.7062 13.1582 16.4788L12 14.0253L10.8417 16.4788C10.7344 16.7062 10.5054 16.8513 10.2539 16.8513C10.0024 16.8513 9.77351 16.7062 9.66615 16.4788L6.4216 9.60579C6.26835 9.28116 6.40729 8.89376 6.73192 8.74051Z" fill="#23262D" fillRule="evenodd" style={{ transition: 'fill 0.2s' }} />
                          </svg>
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
              )}
            </div>
            </>
            )}
          </div>
        </main>

        {/* Footer */}
        <footer style={{
          position: 'fixed',
          bottom: 0,
          left: '96px', // 24px (left padding) + 56px (menu width) + 16px (gap)
          right: '24px', // Ğ²Ñ‹Ñ€Ğ°Ğ²Ğ½Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼Ñƒ ĞºÑ€Ğ°Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ³Ğ¾ ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€Ğ°
          height: '56px',
          background: 'transparent',
          display: 'flex',
          alignItems: 'center',
          gap: '80px',
          fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
        }}>
          <div>
            <div style={{ fontSize: '12px', color: '#9CA3AF', marginBottom: '2px' }}>Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸</div>
            <div style={{ fontSize: '14px', fontWeight: '500', color: '#374151' }}>+7 (499) 456-11-11</div>
          </div>
          <div>
            <div style={{ fontSize: '12px', color: '#9CA3AF', marginBottom: '2px' }}>Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ğ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğµ</div>
            <div style={{ fontSize: '14px', fontWeight: '500', color: '#2563EB', cursor: 'pointer' }}>Ğ¡Ñ„ĞµÑ€Ğ°. ĞĞ±Ñ€Ğ°Ñ‰ĞµĞ½Ğ¸Ñ</div>
          </div>
          <div style={{ marginLeft: 'auto' }}>
            <div style={{ fontSize: '12px', color: '#9CA3AF', marginBottom: '2px' }}>Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ² Ğ¤Ğ ĞšĞš</div>
            <div style={{ fontSize: '12px', color: '#9CA3AF' }}>ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ²Ñ…Ğ¾Ğ´ 25.08.2026</div>
          </div>
        </footer>

        {/* ĞœĞ¾Ğ´Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¾ĞºĞ½Ğ¾ Ğ´Ğ»Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ SVG */}
        {uploadModal.open && (
          <div 
            style={{
              position: 'fixed',
              top: 0,
              left: 0,
              right: 0,
              bottom: 0,
              background: 'rgba(0, 0, 0, 0.5)',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              zIndex: 10000,
            }}
            onClick={closeUploadModal}
          >
            <div 
              className="upload-modal-content"
              style={{
                background: 'white',
                borderRadius: '16px',
                padding: '32px',
                maxWidth: '500px',
                width: '90%',
                boxShadow: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                fontFamily: "'VTBGroupUI', -apple-system, BlinkMacSystemFont, sans-serif",
              }}
              onClick={(e) => e.stopPropagation()}
            >
              <h2 style={{
                fontSize: '20px',
                fontWeight: '600',
                marginBottom: '16px',
                color: '#111827',
              }}>
                Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ SVG {
                  uploadModal.type === 'icon' ? 'Ğ¸ĞºĞ¾Ğ½ĞºÑƒ' : 
                  uploadModal.type === 'menu-icon' ? 'Ğ¸ĞºĞ¾Ğ½ĞºÑƒ Ğ¼ĞµĞ½Ñ' :
                  uploadModal.type === 'client-icon' ? 'Ğ¸ĞºĞ¾Ğ½ĞºÑƒ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°' :
                  'Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ'
                }
              </h2>
              <p style={{
                fontSize: '14px',
                color: '#6B7280',
                marginBottom: '24px',
              }}>
                {uploadModal.type === 'icon' 
                  ? `Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ SVG Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ¸`
                  : uploadModal.type === 'menu-icon'
                  ? `Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ SVG Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ "${navMenuItems.find(item => !item.divider && getMenuItemId(item) === uploadModal.menuItemId)?.label || ''}"`
                  : uploadModal.type === 'client-icon'
                  ? `Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ SVG Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ ${uploadModal.clientIconType === 'phone-check' ? 'Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°' : 'Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ° Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°'}`
                  : `Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ SVG Ñ„Ğ°Ğ¹Ğ» Ğ´Ğ»Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ "${cards.find((card, i) => getCardId(card, i) === uploadModal.cardId)?.title || ''}"`
                }
              </p>
              <label style={{
                display: 'block',
                width: '100%',
                padding: '12px 24px',
                background: '#2563EB',
                color: 'white',
                borderRadius: '8px',
                textAlign: 'center',
                cursor: 'pointer',
                fontWeight: '500',
                fontSize: '14px',
                marginBottom: '16px',
              }}>
                Ğ’Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»
                <input
                  key={`upload-${uploadModal.iconId ?? uploadModal.cardId ?? uploadModal.menuItemId ?? uploadModal.clientIconType ?? 'x'}`}
                  type="file"
                  accept=".svg,image/svg+xml"
                  style={{ display: 'none' }}
                  onChange={handleImageUpload}
                />
              </label>
              <button
                onClick={closeUploadModal}
                style={{
                  width: '100%',
                  padding: '12px 24px',
                  background: 'transparent',
                  border: '1px solid #E5E7EB',
                  borderRadius: '8px',
                  color: '#374151',
                  cursor: 'pointer',
                  fontWeight: '500',
                  fontSize: '14px',
                }}
              >
                ĞÑ‚Ğ¼ĞµĞ½Ğ°
              </button>
            </div>
          </div>
        )}
      </div>
    </>
  );
}
